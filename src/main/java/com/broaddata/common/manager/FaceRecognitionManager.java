/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.broaddata.common.manager;

import org.apache.log4j.Logger;
import java.nio.ByteBuffer;
import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.UUID;
import javax.persistence.EntityManager;
import org.json.JSONArray;
import org.json.JSONObject;

import com.broaddata.common.model.organization.FaceData;
import com.broaddata.common.model.organization.FaceGroup;
import com.broaddata.common.model.organization.FaceRepository;
import com.broaddata.common.model.platform.ComputingNode;
import com.broaddata.common.util.DataIdentifier;
import com.broaddata.common.util.Tool;
import com.broaddata.common.util.Util;
import com.broaddata.common.util.VideoProcessUtil;

public class FaceRecognitionManager {

    static final Logger log = Logger.getLogger("FaceRecognitionManager");

    public static int minHeightForComparing = 90;
    public static int minWidthForComparing = 90;
    
    private String faceRecognitionServiceIPs;
    private boolean thisNodeIsAVideoPrcoessingServer;
    private int videoProcessingServiceInstanceId;
    private EntityManager platformEm;
    private ComputingNode computingNode;
    private Map<String, String> videoProcessingServicemap;

    public FaceRecognitionManager(ComputingNode computingNode, String faceRecognitionServiceIPs, boolean thisNodeIsAVideoPrcoessingServer, int videoProcessingServiceInstanceId, EntityManager platformEm) throws Exception {
        this.faceRecognitionServiceIPs = faceRecognitionServiceIPs;
        this.thisNodeIsAVideoPrcoessingServer = thisNodeIsAVideoPrcoessingServer;
        this.videoProcessingServiceInstanceId = videoProcessingServiceInstanceId;
        this.platformEm = platformEm;
        this.computingNode = computingNode;
    }

    public void init() {
        videoProcessingServicemap = Util.getEDFVideoProcessingService(platformEm, String.valueOf(videoProcessingServiceInstanceId));
    }

    public List<Map<String, String>> detectFaces(ByteBuffer pictureContent) throws Exception {
        List<Map<String, String>> faceDatalist = new ArrayList<>();

        String faceRecognitionServiceIP;

        // copy content to face recognition server
        if (thisNodeIsAVideoPrcoessingServer) {
            faceRecognitionServiceIP = computingNode.getInternalIP();
        } else {
            faceRecognitionServiceIP = Util.pickOneServiceIP(faceRecognitionServiceIPs);
        }

        String fileKey = UUID.randomUUID().toString();
        String filename = String.format("%s.jpg", fileKey);

        String faceDataStr = "";

        try {
            String videoServerInfo = VideoProcessUtil.copyFileToVideoServer("face-picture", faceRecognitionServiceIP, videoProcessingServicemap, thisNodeIsAVideoPrcoessingServer, filename, pictureContent, platformEm, videoProcessingServiceInstanceId, computingNode);

            String[] val1s = videoServerInfo.split("\\~");

            String videoServerHost = val1s[0];
            //String currentWorkingDirKey = val1s[1];

            // send restful api request      :5432/face_detect/facenet/   "http://%s:54321/face_recog/facenet/%s"
            String targetURL = String.format("http://%s:54321/face_detect/facenet/%s", videoServerHost, fileKey);
            //String targetURL = String.format("http://%s:54321/face_recog/facenet/%s", videoServerHost, fileKey);

            faceDataStr = Tool.invokeRestfulService(targetURL,null,null,1);
        } catch (Exception e) {
            //faceDataStr = "{  \"faces\": [    {      \"box\": \"605,632,696,741\",       \"embeddings\": \"0.0684515,-0.0246783,0.01617,0.00672616,0.00150267,-0.0081985,-0.00277968,-0.0272469,-0.00732049,0.0140851,0.102478,0.00334244,0.0445628,-0.0128777,0.0228736,-0.00232942,0.0671678,0.0371528,-0.0248888,0.0756958,-0.00831853,-0.0495546,0.0873556,-0.0942767,-0.0518705,-0.0618464,0.0561928,-0.0379844,-0.0358369,-0.0413776,0.0452397,0.0750498,-0.0666105,0.0912865,-0.00615742,-0.0869096,0.0190432,-0.0508551,-0.0682396,0.0144206,-0.0134893,-0.0235198,0.00259115,0.055278,0.0585777,0.0186534,0.105142,-0.00779073,-0.0426954,-0.0198038,0.0179871,-0.00604142,0.0228865,0.0534266,-0.0127751,-0.0402505,-0.0529542,0.0343353,-0.0275265,0.0652653,-0.00987589,-7.91244e-05,-0.0422791,0.0241783,0.0460312,0.0276897,0.0039763,-0.0492637,0.0324496,-0.0496842,0.0320125,0.00202066,-0.0173583,0.0257217,-0.0242855,-0.000680127,0.0340904,-0.0594979,-0.00981596,-0.0228221,0.0103069,0.0755706,-0.0292065,-0.0553919,-0.017977,0.0679144,0.000407689,0.0352049,0.0291014,0.0571458,-0.0480794,-0.00801158,-0.011858,-0.0597827,-0.0350608,0.0203211,-0.0418886,0.102241,-0.0202672,-0.0572849,-0.00773366,0.0339834,-0.0130613,-0.00708384,0.0205564,0.0525319,0.0225504,-0.0709549,-0.1152,-0.0199992,-0.0120499,-0.0445486,-0.0414073,-0.00792791,0.00167535,0.0805752,0.0211112,0.0116049,0.0249999,0.0718623,0.000369297,0.0270343,0.0442121,-0.000619558,-0.0124701,-0.0384835,0.00693355,-0.0506171,0.0221792,-0.0880337,0.00845171,0.00268052,-0.00870986,-0.00501042,0.0189007,-0.037181,-0.116339,-0.112074,0.00328073,-0.0124075,0.0262017,0.0622225,-0.061044,0.0285637,-0.0396953,0.0159494,0.00591693,0.0535403,0.0596676,0.0703957,0.0212285,0.0262843,-0.0499104,0.10199,-0.0234029,-0.0287177,-0.0561223,-0.051853,0.0203082,-0.0774633,0.0525103,0.0528776,-0.0214392,0.0176969,0.0462237,-0.00587168,-0.0646654,-0.00817857,0.041848,-0.00980414,-0.0617483,0.0428643,-0.0524899,-0.0389978,-0.0414211,0.0151398,-0.0575424,0.0435754,0.0190196,2.89536e-06,0.0142527,0.0519063,0.0200033,0.0241272,0.0490895,0.0130136,0.0163059,0.0237892,0.0215706,0.0259802,0.0171116,0.0216349,0.0363329,0.0402977,0.0102083,-0.0036903,0.0129919,-0.0540545,0.0355156,-0.0261044,0.11973,-0.0948181,0.0382062,0.0373425,0.0153432,0.0341715,-0.0219107,0.0261216,-0.0175967,0.0544547,-0.0406199,0.0278078,-0.0334616,-0.0231086,-0.0686573,-0.00527937,0.0538507,0.00947597,-0.00819588,0.0974709,-0.00220368,-0.00269537,0.0555437,-0.0136119,0.0452987,0.076428,0.038493,0.0672189,-0.0373568,0.0295694,0.0310395,-0.0231227,0.0573166,-0.00231053,-0.00105337,0.0465155,-0.0447295,-0.0372151,0.0712768,0.0371213,0.0469206,0.0467124,0.0169852,0.0085268,-0.00508993,-0.025803,-0.1035,-0.0125261,0.0206191,0.0236629,-0.0175012,0.0584133,0.0571749,-0.0459727,-0.0496348,-0.021888,0.0209482,0.0019433,-0.0187314,-0.0074372,-0.00218253,-0.07059,0.00823014,0.0110603,-0.0518627,0.0201015,0.00996759,-0.0228641,0.0390721,-0.062779,0.00686834,0.0672461,0.0644084,-0.0238413,-0.0325718,0.0252903,-0.0601871,-0.0116105,0.00600625,0.0211471,-0.0416595,0.037158,-0.00400494,-0.0053696,0.0392723,-0.0318132,0.0642756,-0.00763207,-0.0613526,-0.0189413,0.0116482,0.072269,0.0117421,0.00915954,0.0286362,0.0301618,-0.0291285,0.0349913,0.0523178,-0.0650169,0.0519824,0.0360885,-0.0664518,-0.0192797,0.0781334,-0.0227457,-0.00231979,0.028586,-0.0514286,0.0739285,-0.0119529,0.00673556,0.00437749,-0.0265469,0.0445603,0.0106505,-0.0225162,0.0429628,0.0900252,-0.0117832,0.028434,-0.0789942,0.0322349,0.0371435,0.0318241,-0.0428987,0.0320505,0.0755343,0.0419676,0.0502892,-0.0237642,0.0699092,-0.0144145,0.00716311,0.047047,0.0773399,0.0359408,-0.0419052,0.038757,0.0169284,0.013412,-0.0373881,-0.0625488,0.0118387,0.00760164,0.0727391,0.00997272,0.0320619,0.00767992,0.0593533,0.0840588,-0.0428316,0.0628425,0.0209472,0.0398047,0.0546069,0.0363532,0.00125416,-0.0476719,0.0494051,0.0105331,-0.092911,-0.0551917,-0.0461821,0.00172292,-0.0216691,-0.0228595,-0.0255648,0.0213872,0.0210808,-0.0752075,0.033116,-0.0451808,0.0171027,0.0192668,0.106919,0.0390067,-0.000253099,-0.0040169,0.00982353,-0.0574329,-0.0269229,-0.0254446,-0.0898394,-0.0223309,0.0174872,0.0147864,0.0405753,-0.00420939,-0.0511632,-0.0887004,0.0533947,-0.0640868,0.0435932,0.0665385,-0.00172436,-0.0148355,0.0651281,0.0125325,-0.0531403,0.00102593,-0.0110232,0.107279,-0.0088373,-0.0103069,-0.0648758,-3.64672e-05,-0.020621,-0.00384284,-0.0632329,0.0734133,-0.0623039,-0.0118893,0.0258697,-0.0591878,0.0343942,-0.0126769,0.0272751,0.00927853,0.00317719,0.0431869,0.0668291,-0.0103754,0.141211,-0.020105,0.0126587,-0.0348673,-0.0083103,0.00228488,-0.0618422,-0.0825695,0.0159288,0.0404206,-0.0373095,-0.0129466,0.0293042,-0.0150924,-0.0357282,-0.0341543,-0.00889851,-0.0857216,-0.0386005,0.0647202,0.0681023,0.0515539,-0.0156783,0.093096,-0.0537721,0.0204793,0.024286,-0.0122341,0.0386289,0.033052,-0.0251893,-0.028412,0.0633617,-0.0406235,0.0806411,-0.00211771,0.00431904,0.00822567,-0.0093504,0.0379314,0.0083636,-0.0888596,-0.0410467,-0.0297478,0.0326143,0.0710267,0.0600995,0.101989,0.0539444,0.004329,0.0422767,-0.0334006,0.0105362,0.00281091,-0.0033817,0.00957982,-0.0131394,0.000847034,0.00938345,0.00380877,0.0206378,-0.0177851,-0.0144365,0.00489284,0.0588999,0.0886347,-0.0737505,-0.0502367,-0.037263,-0.0543621,0.0110485,0.0218996,-0.0607077,0.0638905,-0.00915414,0.0713385,0.0363927,-0.0242127,-0.0660827,-0.0933185,0.0176996,-0.0691323,0.030969,-0.0144496,-0.015935,-0.031753,-0.00614505,-0.00409248,0.0357414\"    },     {      \"box\": \"706,382,778,465\",       \"embeddings\": \"0.0658052,0.00247637,-0.0510436,0.0143211,-0.0280347,-0.0250478,-0.0199165,0.0284676,-0.0102319,0.0302797,0.104573,0.0440392,0.0764141,0.0115596,-0.0314041,0.0216461,0.032753,-0.0146522,0.0256684,0.0243236,0.0276968,-0.0275138,0.0427045,-0.0904769,0.0156246,-0.0618112,0.0388797,-0.0300056,0.0393244,-0.033986,0.0569652,0.0510434,0.0112935,0.0503983,-0.0214326,-0.0986096,-0.024771,-0.0512272,-0.0487659,-0.0157526,-0.0863773,-0.0382475,0.0126209,0.0773588,0.00204265,0.0289259,0.0440404,0.027132,-0.0211952,0.0195908,-3.46578e-05,-0.0726423,0.0325567,-0.0311662,0.0301111,0.0270065,-0.048501,0.064739,-0.0359317,0.04545,0.0109057,0.0817021,-0.0649119,0.0441319,0.0300501,0.0231959,-0.00495794,-0.0507046,0.0323751,-0.056807,0.0130288,0.0238451,-0.0137087,0.0903089,-0.00710889,0.0100117,0.0259146,-0.039053,0.0028718,0.013127,0.0263761,0.0216606,-0.0336152,-0.0200489,0.0234093,-0.0120295,0.00847181,0.0656692,0.00775539,0.0165172,-0.0289416,-0.0348683,0.0217405,-0.0315872,-0.0223688,0.0432165,-0.0185785,0.0626933,-0.0264434,0.0337157,0.0233453,0.0225767,0.0483732,-0.00177089,-0.00127479,0.0278913,-0.00849026,-0.0718869,-0.0379642,-0.00854741,0.0365994,-0.0263294,-0.0136397,-0.0507872,-0.0262926,0.0450453,0.0504445,0.0461319,0.0373416,0.116759,0.0172053,0.0283844,0.0110603,-0.00895448,-0.0797311,-0.0170988,0.0818238,-0.0927532,0.0515186,-0.0435927,0.0103062,0.0155251,0.0103659,-0.00314386,-0.0345486,-0.0174467,-0.0467343,-0.0299798,0.0598515,0.00567053,0.00645808,0.0399287,-0.0481122,-0.0781702,0.0184149,0.0235049,-0.0239646,0.0415931,0.060302,0.0112643,0.0616598,0.0296266,-0.0382107,0.0887306,-0.000323975,-0.0395269,-0.090625,-0.0208652,-0.0114447,-0.0654781,0.0526731,0.02159,0.0262222,0.0146776,0.0788827,-0.0415377,0.0101043,0.0256409,-0.0446142,0.0455134,-0.0430875,0.0359026,-0.011867,-0.054459,-0.016147,-0.0223892,-0.0386338,0.0718681,0.00508857,0.0185308,0.0430981,-0.00377917,-0.0217078,0.0212284,0.0509218,0.0282048,0.0457312,0.0113895,-0.0417555,0.0554266,-0.00913467,0.0315314,0.0763168,-0.0170734,0.0319386,0.0626737,0.00420477,0.00431848,0.0354204,-0.0113992,0.12339,-0.0369948,0.0552043,-0.0253227,0.0319854,0.00797258,-0.0157794,-0.0118163,-0.0206538,0.0437167,-0.0299991,0.0179333,-0.0221415,0.0182791,-0.0412555,0.0506212,0.0255364,-0.0191617,-0.00443449,0.0365837,-0.0267983,0.0241487,0.0667756,0.0144724,0.0195663,0.026075,0.00432797,0.0195914,-0.026683,0.0137472,0.0243769,-0.0532503,0.0207268,-0.0680216,-0.0548314,0.0666684,-0.028735,-0.00489754,0.0666629,0.0134937,0.0321642,0.0567609,0.018817,-0.0438718,0.0169209,0.0490338,-0.107785,-0.00238495,0.03025,0.0410672,-0.0853202,0.0414961,0.0368934,0.0173035,-0.0744697,-0.00597068,0.00337586,0.0383794,0.0754007,-0.0013865,-0.0709937,-0.0574225,0.0129889,-0.0148555,-0.00697333,-0.0524068,0.00458081,0.0143284,0.0466141,-0.0549677,0.0500564,0.0619008,0.0499194,0.0414217,-0.0384136,0.0544584,-0.00184691,-0.000786341,-0.0424586,0.0219802,0.00689811,0.0286434,-0.056974,-0.0730253,0.0868157,-0.0399558,0.0133173,-0.0300492,-0.0814382,-0.00420669,0.019761,0.00662795,-0.0407673,0.051054,-0.0325554,0.0055461,-0.0362691,-0.00425933,0.0648565,-0.000276156,0.0476912,0.0371759,-0.00282226,-0.022932,0.0495977,0.00329318,0.00431636,0.0258781,-0.0740229,0.0238009,-0.0756538,0.0300992,0.0329308,-0.00208571,0.0438821,0.0185103,-0.0239054,-0.013305,0.0714453,-0.0336937,0.0106193,-0.108672,-0.0605948,-0.0068171,0.0198022,0.0150264,0.0155188,0.069882,0.0166316,0.0146832,0.0470967,0.104798,-0.0925821,0.0401733,0.028477,0.062992,-0.0217007,-0.077178,-0.0255697,0.0356841,0.106453,0.0240411,-0.014992,-0.000177157,0.0199732,0.0293611,-0.0208479,0.0188638,0.0210161,0.072905,0.057481,-0.0717901,0.0529617,0.0623635,-0.00344779,0.0144097,0.0687938,0.0121925,-0.0189434,0.000748227,-0.0558288,-0.103959,-0.0573212,-0.0566639,-0.0140442,0.0217121,-0.017423,-0.0689867,-0.048569,0.0176354,-0.0681837,0.014158,-0.0874075,0.0214872,0.0440552,0.0592139,-0.0154212,0.0314998,-0.0322563,0.0192932,-0.0692948,-0.00570936,-0.0169504,-0.0179082,0.00171681,-0.0537152,0.017487,0.0443488,-0.0606249,-0.0513453,-0.0249092,-0.0117253,-0.0398044,-0.0224897,0.097197,0.00123124,0.0370083,0.084001,0.0634406,-0.0585896,0.0161416,0.0350062,0.12263,-0.0090219,-0.0317114,-0.0245125,-0.0169066,-0.0202909,0.0144541,-0.0474215,0.0818516,-0.0359464,-0.0137721,-0.0160354,-0.0294406,-0.00371528,0.0894047,0.114332,-0.0137597,0.0145173,0.0517681,0.0838488,0.00328214,0.117405,0.017001,0.0272506,-0.0165704,0.03469,0.048318,-0.0523977,-0.0487298,0.00225026,-0.0457903,-0.0474652,-0.0148783,0.0648528,-0.00351399,-0.0545278,-0.0264611,-0.0136343,-0.0234838,-0.0556667,0.0286794,0.0389829,0.0398755,-0.000145061,0.0295641,0.0199261,-0.0282336,0.00753128,0.0849509,0.0319757,0.0376571,0.00306968,-0.00947525,-0.034808,-0.0273263,0.0382437,0.0550518,0.0499579,0.00350375,0.0141705,0.0243213,0.0157523,-0.0111141,-0.0340133,-0.0168861,-0.00884167,0.0460466,0.00904497,0.0763925,0.0338023,0.0923973,-0.0473546,-0.0943739,-0.034703,-0.0201971,-0.0294913,0.0731602,0.00103783,-0.0207364,0.0199819,-0.00211245,0.0799201,-0.0596435,-0.0722745,-0.045361,0.112163,0.0251507,-0.0800178,-0.00454192,-0.0293815,-0.0346927,-0.0163589,0.0671339,-0.061212,0.0672734,-0.0195952,0.026244,-0.0917922,-0.0166334,0.00380814,-0.0746498,-0.030983,-0.076047,0.0191299,-0.0325568,0.00583758,-0.0577877,-0.00514213,0.0210946,-0.00452443\"    },     {      \"box\": \"698,529,785,627\",       \"embeddings\": \"0.0596226,0.00236042,0.0247175,0.0831276,-0.0130286,0.0914953,-0.0426681,0.0549203,-0.0312747,-0.0127178,0.0699071,0.0315603,0.106735,0.0310406,-0.0816586,0.0106055,0.0641958,0.0629995,-0.0302009,-0.0334022,-0.00754111,0.0217391,0.0339517,-0.0720453,-0.0329916,-0.0415958,0.0281748,0.0331088,-0.0111618,0.00219213,0.0946828,0.0258056,0.00413051,-0.025184,-0.0184866,-0.082266,-0.0475754,-0.0638685,-0.0602748,-0.0539877,-0.031998,0.00985621,0.0730267,0.0142274,0.0736461,0.056002,0.0332546,-0.00772886,-0.0258312,-0.0484508,0.0138774,-0.0161393,0.0732773,-0.0505406,-0.0341218,0.019614,-0.0143413,-0.0271116,-0.00464287,0.0667642,0.0248873,0.00564028,0.0149912,0.0594657,-0.0847013,0.0514829,-0.0206651,0.0158215,0.0629578,-0.0169814,0.0183182,0.0228606,0.00636391,0.0585086,0.0279656,-0.0258739,-0.0247489,-0.0143296,0.0151318,-0.0610581,0.0302093,0.00267607,-0.0321908,-0.0142006,-0.0198205,-0.00265137,0.0575521,-0.00104539,0.0409645,-0.0236062,-0.0828558,-0.00934548,0.0273673,0.00830808,0.028518,0.0374983,-0.0409316,-0.0237707,-0.00662387,0.0384579,0.0655974,0.0815358,0.0313669,0.0225002,0.0374888,0.0403489,-0.0613888,-0.104306,-0.0361824,-0.0125669,0.0349048,0.0693849,-0.0480556,-0.0231536,0.028913,0.0233749,0.00220569,0.0410753,0.0234717,0.0340478,0.0374534,0.0479363,-0.0518475,-0.0935846,-0.0303412,-0.00656804,0.0480321,0.0266782,0.101382,-0.0209458,0.0370811,-0.00346283,-0.0221698,0.0131058,0.0109818,0.0217887,-0.0920684,-0.0693503,0.0695209,0.0677983,0.012573,0.0632669,-0.0267215,-0.0938675,0.00437421,-0.0167017,0.00192603,0.00554704,0.0501546,0.0557589,0.0480939,-0.0491195,-0.0156315,0.0652533,0.0617371,-0.0161706,-0.0484635,-0.0725524,-0.011036,-0.080449,-0.0116303,0.0552392,0.00231155,0.0120616,0.0680897,-0.0498241,0.0229622,0.0380679,-0.0529451,0.0222802,-0.0328596,0.0991699,-0.000291873,0.026909,0.0187488,0.0318709,-0.0178223,0.0853866,0.0240316,0.0292314,-0.0283078,0.017389,-0.00728516,-0.044711,0.0562497,0.0428247,0.019653,0.00384488,0.0186972,-0.0131798,0.0189794,0.028733,0.0782419,-0.0428336,0.0752799,0.00900745,-0.0159703,-0.0434325,0.0651409,-0.0672086,0.0821565,-0.0111252,0.0513124,-0.02511,-0.000574541,0.0193044,-0.0646785,0.00797904,-0.00725287,-0.0375091,-0.0241336,0.0357231,0.0292796,0.0674329,0.0356681,0.0649078,-0.00620001,-0.00373455,-0.00224387,-0.0300901,0.0338479,0.0369501,0.00884581,0.0646706,0.0598161,0.00543256,-0.0126608,0.00695313,0.0315133,0.0194094,0.0606772,0.000486029,0.0326358,-0.0557524,-0.0401709,0.0226879,-0.0600487,-0.029018,0.11788,0.0257384,0.0148505,0.057279,0.043311,-0.0579371,0.0333077,-0.0192168,-0.019288,-0.00238016,0.00877326,0.0487735,-0.0965219,-0.021578,0.0216212,0.0231786,0.0153968,-0.0235637,0.02986,-0.00460535,-0.00924979,0.0161539,-0.0613956,-0.0359437,0.0456542,-0.0187362,-0.0228835,-0.0972183,0.00324812,-0.0258241,0.0724283,-0.0340027,0.0282318,0.0473462,0.149788,-0.013339,-0.000957178,0.0149303,0.0379226,-0.0141211,-0.04435,-0.0401411,0.028809,0.039528,-0.0114322,-0.0650572,0.00173534,0.0367465,0.0212668,-0.0554492,-0.112967,-0.0173024,-0.00349007,0.0136731,-0.0648654,0.0164422,0.0499188,0.0307343,-0.0326044,-0.0122299,0.0466341,-0.0466715,0.124471,0.0212667,0.0495861,-0.073269,0.00550376,0.0555384,-0.026492,-0.0371715,-0.0496893,0.0629254,-0.0366212,-0.0444403,-0.00667294,0.0201421,0.0687212,-0.0555857,-0.0298426,0.0172221,0.0605825,-0.0072159,0.0328243,-0.0899249,-0.0475021,-0.0526642,0.0549037,0.0139649,0.0217503,0.0378281,0.0819247,-0.0294892,0.0139274,0.0423697,-0.0417678,0.00470612,0.0432962,0.061438,0.0663433,-0.0350862,-0.0294031,0.0289092,0.0298441,-0.0580944,0.0959788,0.0122877,-0.0249577,0.0437069,0.0120493,0.00570326,0.00570696,0.0177618,0.0459875,-0.0488043,0.0349102,0.0229781,0.0167194,-0.0288039,0.0650935,0.00609491,-0.0724309,-0.0411749,0.00377458,-0.0562679,-0.0541276,-0.034548,-0.00200987,0.0110855,-0.0398901,-0.00159349,-0.0716027,0.0156661,-0.0251215,0.0201576,-0.0157311,0.0294537,0.0272436,0.0545707,-0.00383365,0.0291597,-0.0154217,0.0190101,-0.112535,-0.00823505,-0.0412218,-0.0493103,-0.0422584,-0.00308344,0.0240037,-0.0443216,-0.041654,-0.0833057,0.00467965,0.0341631,-0.0775864,0.00980171,0.0378202,0.0862318,0.0353388,0.089938,0.0523125,-0.00405452,-0.0446917,0.0239718,0.0450753,0.0573004,0.0265793,-0.041381,-0.0284669,0.0733254,0.034996,-0.0409331,0.0829837,0.00942419,0.0458827,0.0209728,-0.0242723,-0.0145283,-0.00967238,0.0596576,0.0804045,0.0306291,0.0291367,-0.00306306,-0.0369333,-0.0141778,-0.0119046,0.000348786,-0.00694617,-0.0288915,0.0250148,-0.0144218,-0.0872229,-0.00839456,-0.0317921,-0.00465327,0.0371332,0.0369694,0.00279231,0.0116621,0.0370578,-0.0230224,-0.0450987,-0.0202245,0.0252482,-0.0249046,0.0263777,-0.00511637,-0.0461565,-1.03699e-06,0.0498097,-0.0665806,-0.0292331,-0.0327884,0.0737896,0.0023921,-0.0473065,0.00963383,-0.0538801,0.0278882,-0.0479755,0.0585123,-0.0404327,0.00341426,0.0625903,0.0339249,-0.0042117,-0.0100211,0.00433102,-0.0661693,-0.0222395,-0.0188642,0.0516333,-0.0417403,0.0162862,0.0116303,-0.127382,-0.0085081,0.0358051,-0.0534721,0.0426212,-0.00440267,0.00321636,0.00240262,-0.0296562,-0.00937132,-0.0810419,-0.0206204,-0.0751484,0.0353896,0.0189657,-0.0439882,-0.0448255,-0.0212384,-0.0229455,-0.0377033,0.0574633,-0.07075,0.046067,-0.0278968,0.0322738,0.0248165,0.0253646,-0.0458413,0.00945643,-0.0858768,-0.0541068,0.0570741,0.0664171,-0.000106481,0.0148581,-0.0164363,-0.0540198,0.0176947\"    },     {      \"box\": \"655,480,731,567\",       \"embeddings\": \"0.0458212,-0.00420659,-0.00499078,0.00908958,0.0150331,0.0103821,-0.0446948,0.00876699,-0.0301491,0.0521978,0.13513,-0.0091074,0.0412903,0.0239046,0.0279295,-0.0141908,-0.0261698,-0.0118245,0.0353847,0.0342333,0.00864378,0.0085361,0.0652207,-0.10397,-0.0446846,0.0194073,0.0623756,-0.0205856,-0.0277095,0.00465869,0.0376882,0.0428653,0.014351,0.0449978,0.0117804,-0.0895415,-0.0174602,0.00525,-0.0180221,-0.053126,-0.107138,-0.00720946,0.0164573,0.0924006,0.020318,-0.0279627,0.0482726,0.0148362,-0.0330572,-0.00570932,-0.0235099,-0.0380856,0.0202106,-0.0309485,-0.0136793,0.0225581,-0.00613814,0.0277299,-0.0948095,0.0860374,0.0308127,0.020042,-0.0326197,-0.0148914,0.049518,-0.0267157,0.000624007,-0.0888255,0.0259933,-0.00874777,0.0457825,0.0468614,0.00415302,-0.0318336,-0.0600338,0.0443735,0.0531816,-0.0787282,0.0260263,0.0347728,-0.00679219,0.0246536,0.00433369,0.00195589,0.0211827,-0.0130699,-0.0164495,0.0664411,0.018129,0.025692,-0.0471326,-0.0490108,-0.0141032,-0.0358335,0.0248509,-0.00228257,-0.0201079,0.0637342,-0.00889469,-0.0270799,0.0239166,0.0201321,0.0486529,0.0845929,0.0119416,0.0511274,-0.00985163,-0.00177447,-0.00909742,-0.0156107,-0.0347773,-0.0295902,-0.00912694,-0.0544906,-0.0635248,0.0293353,0.0113067,0.0848149,0.0920031,0.0767792,0.019081,-0.0635306,0.0215322,0.0244538,-0.0687087,0.00644275,-0.0215159,-0.0295171,0.0407406,-0.0527142,0.019145,0.0209434,0.0317949,0.0025658,-0.0110582,0.0104935,-0.0438541,0.00316583,-0.0171563,0.0326637,-0.0025198,0.0388818,-0.0767168,-0.0911357,-0.0379626,0.0488769,-0.000542022,-0.00691451,0.0134155,0.0665377,0.0208324,0.0550162,-0.0249654,0.0642556,-0.0578701,-0.0143568,-0.0535278,-0.0134657,0.0145508,-0.0902268,0.00531257,-0.003101,-0.0184356,0.00696554,0.0535178,-0.105831,0.0321002,-0.0119222,0.00589918,0.0294278,0.0332228,0.0452342,-0.0570346,-0.0476451,-0.0406532,-0.0378914,-0.0481267,0.021453,0.0157361,0.0240719,0.0124919,0.0787302,-0.026194,0.0180205,0.0406078,-0.00749046,0.0571185,0.0644303,-0.0478729,0.00400957,0.00906605,-0.00529518,0.0552029,0.0142535,0.0168554,0.0523027,-0.014747,0.0038093,-0.00593841,0.0495788,0.116982,-0.00210171,-0.00779797,0.00106242,-0.029394,0.0883546,-0.0114236,-0.0618511,-0.0665825,0.00361963,-0.0243118,-0.0545886,-0.0202301,-0.0179384,-0.031779,0.00598442,0.035975,0.0201583,0.0841847,0.0608225,-0.0219226,-0.000232886,0.0650576,0.0199894,0.0558568,0.0289855,0.0251837,-0.00551194,-0.0362789,0.0373777,0.0595705,-0.00376763,0.0118356,0.00791252,-0.0157066,0.0132115,-0.029857,-0.028573,0.0348784,0.0083012,-0.00633013,0.00516069,0.0209951,-0.06797,0.0190529,0.0501697,-0.124156,0.0363249,0.0795702,0.0777092,-0.0564023,-0.00723986,0.00356598,-0.00204234,-0.0655157,0.0222008,0.0194576,0.0823054,0.0683539,-0.0633035,-0.0232933,-0.0716647,0.0629442,0.0353124,0.0128197,-0.008686,0.00965576,0.00125403,0.0666855,0.00876678,0.0623195,0.0391516,0.048839,0.0406636,-0.0437391,0.0534386,-0.00103536,0.0185671,-0.0968932,-0.014132,0.0179388,0.0244151,-0.0123846,-0.0582417,0.00522447,-0.0480636,0.0284981,-0.0325143,-0.0530978,-0.0229928,0.0507516,-0.0386164,-0.0510995,0.0371959,-0.0672008,-0.0392676,-0.0337116,-0.0172012,0.0384272,-0.0291582,-0.0128229,0.0317838,-0.0342522,-0.0601826,0.0393108,-0.00497392,-0.0248175,0.118413,-0.118238,0.079141,-0.0415649,0.0172544,-0.00620607,-0.0161148,0.0333474,0.0735182,-0.0345101,-0.00581013,0.0384423,-0.0296457,-0.00594977,-0.0661391,-0.0282837,-0.0319577,0.034482,0.0408422,0.027121,0.0961298,0.0939391,0.00588193,0.103859,0.0657524,-0.076343,0.0456817,0.043732,0.0584698,-0.0294069,-0.0222722,-0.080943,-0.02216,0.0713206,0.0685296,-0.00245911,0.0456496,-0.0157183,0.07587,-0.0439592,0.0103185,-0.0121808,0.0208212,-0.0161854,-0.0741912,0.0325789,0.0273446,0.034278,-0.0182635,0.0223661,-0.000602468,-0.0110411,-0.0153432,-0.0421553,-0.039027,-0.0665853,-0.0800776,-0.0682026,-0.0558052,-0.0163594,-0.0683985,-0.00653875,0.0242889,-0.0748272,0.0592003,-0.0718274,0.00353542,0.0153436,0.0216507,0.0398542,0.0570993,0.00117935,-0.0127593,-0.0193133,-0.0553752,-0.0225424,-0.0882383,-0.0109119,-0.0460042,0.0446132,0.00942333,-0.0420463,-0.034298,-0.0250617,-0.0206808,-0.0310873,-0.0495,0.14119,-0.0129772,-0.0157056,0.0632422,0.0402012,-0.0281711,-0.00878261,0.0245056,0.0936167,-0.0159246,0.00688963,0.0252312,-0.0139521,-0.058638,-0.0176808,-0.0335938,0.037493,0.0150312,0.00907854,0.0292773,0.0248445,-0.0227553,0.0399368,0.0619073,-0.0140256,0.022784,0.106246,0.00350453,0.0117758,0.090635,0.0476817,0.0539618,-0.0383069,0.0435154,0.0356497,-0.0258323,-0.0256025,-0.0498355,-0.0570383,-0.0354392,-0.026646,0.0290547,0.00258985,-0.0488083,-0.0708306,-0.0101258,-0.0590562,-0.048601,-0.00840226,0.0160997,0.017203,-0.0139062,-0.0119963,0.0111795,-0.0385262,0.0038606,0.0959995,0.104068,0.0422452,0.0278252,0.0206664,-0.0503991,-0.0694695,0.0697108,0.04001,0.0380973,0.0031445,0.001835,-0.0296333,0.0469981,0.0212814,-0.0369284,-0.00835646,0.00826483,0.0288174,-0.031311,0.0186104,0.00684492,0.0736732,-0.058631,-0.0856277,-0.0180873,-0.00688779,-0.0341074,-0.00113218,-0.0329543,-0.0418503,0.0486194,0.0257054,0.0188389,-0.0823186,0.0149331,-0.0394512,0.0818035,-0.0374178,-0.0780535,-0.00686429,0.0267815,-0.0623448,-0.00838017,0.0206759,-0.0272587,0.050722,-0.0401578,0.0137614,-0.0784357,-0.00362914,0.0165316,-0.0533712,-0.021006,-0.014224,-0.0238166,-0.0362292,-0.0222724,-0.0800722,0.0411437,0.0158076,-0.0301797\"    },     {      \"box\": \"604,246,670,319\",       \"embeddings\": \"0.0521575,-0.0450427,-0.0682371,0.0185755,0.00807067,0.0179612,0.0125551,-0.0131981,-0.0147367,-0.00870893,-0.0315098,-0.0296295,-0.019036,0.00993853,0.0670487,-0.0106135,0.0222022,-0.0272852,0.0100297,-0.0690799,-0.0243162,0.0634928,0.0669509,0.0782246,0.00274284,0.0758098,-0.0578521,-0.0566776,0.0502464,-0.00100395,-0.0814303,0.0543166,-0.000759621,-0.0287157,0.0144803,0.0475341,-0.0328373,-0.0162197,-0.0398846,-0.00379261,-0.00603576,0.0160754,-0.0191892,-0.0498251,-0.00577485,-0.00471447,-0.0109034,0.0508339,-0.0954294,0.0577068,0.0304553,0.0215907,0.0314229,-0.000105634,-0.0743097,-0.00341955,0.0391691,0.0133539,0.0475376,0.0444839,0.0304452,0.042084,-0.00870553,-0.0543619,0.00197646,0.00244669,-0.00277564,0.00488146,-0.000846269,0.0668313,-0.0146404,0.0732394,0.00398167,0.0313,0.0407572,-0.0199888,-0.0471144,0.0160715,-0.0416222,0.0793297,0.0637612,-0.0207364,-0.0794299,0.0396902,0.044788,-0.0698971,0.00629056,0.0480855,-0.0662566,-0.0365439,0.107581,-0.0177956,0.0896935,-0.0266797,0.0876007,-0.00686713,0.00943049,-0.00597109,-0.0567032,0.017978,0.0477511,-0.0478134,-0.00687603,0.0378116,0.00141288,-0.00860329,-0.000707868,0.0114436,-0.00712006,-0.0301828,0.055821,-0.0137065,-0.0102713,-0.116992,-0.0393094,-0.1178,0.00210661,-0.0876157,-0.0450307,0.0600693,-0.0153649,0.0522308,-0.0587937,-0.0556004,-0.0318199,-0.0277276,0.0148572,-0.0203706,0.0446914,0.0152562,-0.0221884,-0.0352061,0.0332444,-0.0111472,-0.144764,0.0236007,0.040616,0.036234,0.0625777,0.087818,-0.00433253,0.0166113,0.047575,-0.00577,0.0528971,-0.0439218,-0.043709,-0.0480987,-0.0307553,-0.0512636,0.0138358,-0.010111,-0.0584265,-0.0052085,0.0369222,-0.0461217,-0.0667216,0.0976688,0.0384425,-0.0594398,0.0417486,-0.0427155,-0.00707241,0.0336548,0.0528775,-0.00175159,0.000643385,-0.00928864,-0.0342432,-0.0060998,0.00614466,-0.0299898,0.0169851,-0.0694287,0.0795296,0.028341,0.0165255,0.00613737,-0.0380426,-0.00591048,-0.0890831,-0.0458258,-0.0967077,-0.0387882,-0.0147935,0.0138983,0.0237166,-0.0171027,-0.0547858,0.042461,0.0306037,-0.0877895,0.123804,-0.036487,-0.00888676,-0.0211816,-0.0189163,0.0312928,-0.0751493,0.0290936,0.046687,0.0927708,-0.00453445,-0.0325252,-0.0141121,-0.00432647,0.0485382,-0.100189,-0.00410138,0.0737926,0.00340287,-0.0251998,-0.0583441,0.0220693,0.0318161,0.0633076,0.0241045,-0.0426354,-0.0129361,0.000184787,-0.0279371,-0.0967975,-0.0826934,-0.0354415,-0.0139594,-0.0715953,-0.0172885,0.00971314,-0.0345205,0.0171563,0.0572412,0.027198,-0.0465613,-0.081103,0.00143758,-0.0355493,0.00452128,0.0172179,0.00140488,-0.0683455,0.0208544,-0.0766172,-0.00650945,-0.0185097,0.0831686,0.083182,0.0479846,0.0511391,0.00349886,0.0421424,0.0298537,0.0257138,-0.0413708,-0.0211955,0.00839978,-0.0162181,-0.0436649,-0.0106038,0.0348326,0.0489877,-0.0290647,-0.0394757,0.0468928,-0.0672941,0.0158248,-0.0468955,-0.0325213,0.0499982,-0.0487001,-0.0247019,0.0391777,0.0135985,0.00825265,0.0655907,0.00191211,-0.0582264,-0.010593,0.0574399,-0.068379,-0.01577,0.051541,0.00793466,-0.00249008,-0.0926128,-0.0627274,-0.051119,-0.03054,-0.0126535,-0.0590553,-0.0462855,-0.0249643,-0.0485022,0.0407646,-0.0146166,-0.0280937,-0.0671808,-0.0161676,-0.013773,-0.0558101,0.0012739,0.079063,-0.0614838,0.0635268,0.0097368,0.0166642,-0.0109732,-0.0266656,-0.0249178,0.089487,0.0278421,-0.0625589,0.0260312,0.015987,0.0616259,0.0263194,0.0143189,-0.0585202,0.0253438,-0.0276837,-0.0408436,0.00855702,0.00094958,-0.0352571,-0.0192842,-0.0547908,0.0326119,-0.0930773,0.0329679,-0.0329067,0.0231722,0.0340278,0.0305054,-0.0178518,0.0649224,-0.0364276,-0.0559476,-0.0637838,-0.0059365,0.0147257,0.000178443,0.0491792,0.0214771,0.0287559,-0.0412073,0.071891,-0.0795762,-0.00219105,0.00513298,0.019143,-0.0359914,-0.0374246,-0.0360927,-0.0669879,-0.017788,-0.0577291,0.0554216,0.0400259,-0.047524,0.0354943,0.0114185,-0.0391886,0.0202588,-0.0353435,0.0105516,-0.0990066,0.0594995,0.0426786,-0.0241297,-3.47582e-06,-0.0732366,-0.020912,0.0440761,-0.0394441,0.0303085,0.0408822,0.0718316,-0.0351631,0.0112569,-0.00759127,-0.00159349,-0.0189052,-0.0515801,-0.0513196,0.0771958,0.0639637,-0.00322575,-0.0229934,0.0243045,-0.00919525,-0.0103826,0.0826293,0.0249809,0.0431663,-0.00478885,-0.0403971,-0.0522492,0.0309799,0.0332747,0.0188839,0.00640744,-0.0613238,0.0533409,-0.0144584,0.0224354,-0.0504279,-0.036512,-0.00695854,-0.0854011,-0.0221459,-0.00151785,0.0706662,0.00764814,-0.00941669,-0.0394485,0.0134948,-0.0604423,0.0265886,-0.00429935,0.014644,-0.0733607,-0.0239157,-0.0371,-0.0227232,-0.0140193,0.00742855,0.0257815,0.0919876,0.029379,-0.0104517,-0.0233895,0.0255465,0.0330499,-0.0593198,-0.0825852,-0.00317904,-0.00970678,0.046674,0.0201837,0.00490933,-0.0185757,-0.0352299,-0.007168,-0.0197073,0.0361073,-0.0184645,-0.0295117,-0.074951,0.0975136,-0.0219025,-0.050017,-0.00809188,-0.0138375,-0.0128525,-0.0513326,0.0341608,-0.0248563,0.0149184,0.0696781,0.0825107,0.0598169,-0.054587,0.0216708,-0.0463985,0.0361666,0.082088,-0.0482692,-0.00241024,-0.0328813,0.0164102,-0.0105313,0.0125698,-0.0278891,0.0208159,-0.0420808,-0.0619147,-5.98617e-06,0.0579484,-0.0413055,0.0517119,0.0242146,0.00790663,0.0407377,0.0547442,0.00082481,-0.0157333,-0.0358816,-0.0859295,0.0505237,-0.00425572,-0.0574303,0.0386303,-0.0338033,0.0503065,-0.0728574,0.0813173,0.0204553,-0.014588,0.00680513,0.0366748,-0.0544315,-0.0270264,0.0342504,0.0301674,0.0146452,0.0211562,0.0285798,0.0163243,0.00213716,-0.0229783,0.00127621,-0.0136365,-0.106284\"    },     {      \"box\": \"1099,446,1180,533\",       \"embeddings\": \"0.0569572,-0.0493107,-0.0730254,0.0253097,-0.0156791,-0.00673193,-0.029078,0.0669992,0.0103614,-0.00304031,-0.0604783,0.021973,-0.0561841,-0.00900598,0.0064791,-0.0436944,0.041734,0.00900053,0.058142,-0.043732,-0.0287995,0.0918591,0.0588234,-0.00747404,-0.0235441,0.0414427,0.0399528,0.0103798,0.0239911,0.0178924,-0.0508589,0.0157393,0.0672353,-0.0499646,0.0182137,-0.0123209,-0.0832877,0.0300991,0.0186448,-0.0295588,-0.0356843,-0.00113005,0.0169336,-0.0577077,0.00322564,0.00626744,-0.0535838,0.0218455,-0.0939969,0.0481085,0.0509897,0.0686868,0.020368,-0.0220148,-0.110704,0.0283556,0.0124706,0.102675,0.0290894,0.0162691,-0.0434057,0.02146,-0.00760465,-0.0201165,-0.0449335,0.0266745,0.00769192,-0.0236044,0.0202204,0.00697917,-0.00110084,0.0248938,0.0201663,0.00828258,-0.00839619,-0.00882537,-0.00948356,-0.0675246,-0.0547462,0.0511154,0.0265881,0.0222245,0.0135931,-0.0387969,0.0181281,-0.023893,0.0239918,-0.00765411,-0.0805658,-0.0031329,-0.00649348,-0.0732715,0.130502,-0.0726997,0.00358802,0.0224287,-0.00777914,0.012353,-0.0675914,-0.0113225,0.0465256,-0.00449807,0.0243319,0.0480023,0.0396897,-0.00642743,0.0388865,0.0329178,0.0492074,-0.0661992,0.0307838,-0.0312841,-0.0587671,-0.115105,0.0310869,-0.0549264,0.0450315,-0.013575,0.0299859,0.0447629,-0.0550441,0.0310653,-0.0542526,-0.0407028,-0.0433939,-0.0472897,0.0336427,0.00385722,-0.0439244,-0.0171995,-0.0644397,-0.0177296,0.0232488,-0.0605078,-0.129402,0.0254954,-0.0170822,0.0453737,0.1001,0.0633548,0.0359219,0.0459064,0.0124042,0.0338877,0.0391001,-0.0241336,-0.0143699,-0.0239966,-0.0336321,0.03429,0.0363927,0.0236249,-0.0262159,0.0189652,0.0287744,-0.0373062,-0.0179059,0.0367467,0.0402396,-0.0400034,0.0658858,-0.00702488,-0.0108209,0.0352249,0.0928598,0.0194523,0.0151515,-0.0358594,-0.0733111,0.0682183,0.00227153,0.0128398,-0.00927962,-0.0859461,0.0346717,-0.00876609,-0.0284843,-0.0560143,-0.0225204,0.0205302,-0.0509231,-0.0298411,-0.0675947,-0.00630016,0.0241501,-0.000199079,-0.0199232,-0.000203121,0.000403083,0.0643766,0.091642,-0.0155423,0.0530729,-0.0557737,0.0840739,-0.00394417,0.0234251,0.0298263,-0.0598821,-0.00218522,0.0544906,0.07076,-0.0120932,-0.0375141,0.018674,0.0367568,0.0215916,-0.0784824,-0.0483504,0.0697354,0.0640269,-0.00527171,-0.0376582,-0.0183118,-0.00515491,0.00456793,0.0040882,-0.0238465,-0.00254429,0.0316399,-0.0161621,-0.0395894,-0.0384559,-0.0401157,-0.0183038,-0.036811,-0.00534401,-0.000139673,-0.00856338,0.0177555,0.105072,-0.00899615,-0.00799387,-0.0451709,-0.0413309,0.0129665,0.0362139,-0.0515117,-0.0368783,-0.0603622,0.0294511,-0.0698082,0.03116,-0.0289486,0.0627796,0.106876,-0.0269442,0.0266979,-0.0134277,0.0172145,-0.0352341,0.0189748,0.00757763,0.04138,0.0204407,-0.0256676,0.0019954,-0.0300377,0.0259274,0.0372942,0.00259943,-0.00484709,0.0599288,-0.0344355,-0.0267406,-0.0121351,0.0147067,0.0114955,-0.0379524,0.0114072,-0.00670352,0.0893125,0.0160027,0.0163013,0.0152222,-0.0376991,-0.0155988,-0.00406289,-0.0132641,-0.0307241,0.0164043,0.000349904,-0.00815349,-0.155825,-0.0544282,-0.0448955,0.0479098,0.0495819,-0.0893685,-0.0743327,-0.00349802,-0.0405071,0.0335111,-0.0494885,-0.0578559,-0.0822437,-0.0213658,0.0176778,0.0396149,0.0210266,0.0742621,-0.061643,0.0112367,-0.0090756,-0.00831113,-0.0387053,-0.0322335,-0.0115291,0.0317173,0.0316469,-0.0232352,0.0188262,-0.0502181,-0.0121737,-0.00334992,0.0326106,-0.0256861,-0.00655985,0.0288905,-0.0655079,0.0799517,-0.00806544,-0.030204,-0.0212798,-0.0508435,0.0263549,-0.0347966,-0.0430619,0.0166077,-0.017139,0.023485,0.0359002,0.0190052,0.0908282,0.0119468,0.0343216,-0.0578878,-0.0179756,-0.0122708,-0.0807778,0.0697872,0.0505173,0.0169511,-0.016245,-0.00511289,-0.0473974,0.0161993,0.0296781,0.0493242,-0.00528325,-0.0451518,-0.0479473,-0.0634249,0.00809028,-0.0642946,0.0216371,0.0668807,0.00343184,-0.0594521,0.0539604,-0.00873075,0.0604559,-0.00515133,0.0426162,-0.0464008,0.00367703,0.0606212,-0.0299134,0.0299035,-0.0489049,-0.068404,0.0702769,-0.0611323,0.0295533,0.0207166,0.0628279,-0.0848336,0.0397339,-0.0267669,0.00151353,-0.0567137,0.0343805,-0.0466684,0.0561908,0.106653,-0.0409301,0.0450783,-0.012097,-0.0584927,-0.0349554,0.0515431,0.0419917,0.00785679,-0.0721741,0.0106246,-0.0264378,0.0610351,0.035107,0.0449472,0.0213678,0.0186756,-0.0238279,-0.0398977,0.0428993,-0.0493495,-0.0400656,-0.0536672,-0.0835731,-0.0188401,-0.0520742,0.0275293,-0.0282333,-0.00464569,0.00855164,-0.0293562,-0.0371911,0.0505926,0.0620741,-0.0378704,-0.0319953,0.0697883,0.00444926,0.0559063,0.0130333,-0.0303517,-0.0679478,0.0291008,0.0419384,-0.00727067,-0.0880286,-0.0323131,-0.0164474,-0.0320555,-0.0703984,-0.0490104,-0.0257227,0.0206224,-0.0207353,0.0337555,-0.0346684,-0.0437808,-0.00145308,0.0300207,0.0521675,-0.0232268,-0.0123468,-0.0283862,0.0567371,-0.048614,-0.0316171,0.0102882,0.0733579,0.00210155,-0.0308776,-0.00176656,-0.0401904,0.00207503,0.0235238,0.0614472,0.106972,-0.047729,0.0115111,-0.0180963,0.000734038,0.0722649,0.0101322,-0.0246182,0.00783729,0.0562188,-0.00850886,0.0206365,0.00902048,0.0894012,-0.0407111,-0.0655888,0.0501484,0.0475088,-0.0400891,0.0562047,-0.00410594,-0.00857634,0.00375554,0.0682161,0.00222143,0.03888,0.0109528,-0.106605,0.0766662,0.00111743,-0.0406369,0.0551045,0.00523767,0.0285833,-0.061123,0.101978,0.0461772,0.0485089,-0.0635919,0.00907939,-0.0756335,-0.00518262,0.077393,-0.0384823,0.0491303,0.0722949,0.0315657,0.00463735,-0.0202176,-0.0786458,0.0371389,-0.0235403,-0.113491\"    }  ],   \"image\": \"b080650b-63ff-4122-9585-53b12794bc17\"}";
            faceDataStr = "{  \"faces\": [    {      \"box\": \"10,10,100,200\",       \"embeddings\": \"0.0684515,-0.0246783,0.01617,0.00672616,0.00150267,-0.0081985,-0.00277968,-0.0272469,-0.00732049,0.0140851,0.102478,0.00334244,0.0445628,-0.0128777,0.0228736,-0.00232942,0.0671678,0.0371528,-0.0248888,0.0756958,-0.00831853,-0.0495546,0.0873556,-0.0942767,-0.0518705,-0.0618464,0.0561928,-0.0379844,-0.0358369,-0.0413776,0.0452397,0.0750498,-0.0666105,0.0912865,-0.00615742,-0.0869096,0.0190432,-0.0508551,-0.0682396,0.0144206,-0.0134893,-0.0235198,0.00259115,0.055278,0.0585777,0.0186534,0.105142,-0.00779073,-0.0426954,-0.0198038,0.0179871,-0.00604142,0.0228865,0.0534266,-0.0127751,-0.0402505,-0.0529542,0.0343353,-0.0275265,0.0652653,-0.00987589,-7.91244e-05,-0.0422791,0.0241783,0.0460312,0.0276897,0.0039763,-0.0492637,0.0324496,-0.0496842,0.0320125,0.00202066,-0.0173583,0.0257217,-0.0242855,-0.000680127,0.0340904,-0.0594979,-0.00981596,-0.0228221,0.0103069,0.0755706,-0.0292065,-0.0553919,-0.017977,0.0679144,0.000407689,0.0352049,0.0291014,0.0571458,-0.0480794,-0.00801158,-0.011858,-0.0597827,-0.0350608,0.0203211,-0.0418886,0.102241,-0.0202672,-0.0572849,-0.00773366,0.0339834,-0.0130613,-0.00708384,0.0205564,0.0525319,0.0225504,-0.0709549,-0.1152,-0.0199992,-0.0120499,-0.0445486,-0.0414073,-0.00792791,0.00167535,0.0805752,0.0211112,0.0116049,0.0249999,0.0718623,0.000369297,0.0270343,0.0442121,-0.000619558,-0.0124701,-0.0384835,0.00693355,-0.0506171,0.0221792,-0.0880337,0.00845171,0.00268052,-0.00870986,-0.00501042,0.0189007,-0.037181,-0.116339,-0.112074,0.00328073,-0.0124075,0.0262017,0.0622225,-0.061044,0.0285637,-0.0396953,0.0159494,0.00591693,0.0535403,0.0596676,0.0703957,0.0212285,0.0262843,-0.0499104,0.10199,-0.0234029,-0.0287177,-0.0561223,-0.051853,0.0203082,-0.0774633,0.0525103,0.0528776,-0.0214392,0.0176969,0.0462237,-0.00587168,-0.0646654,-0.00817857,0.041848,-0.00980414,-0.0617483,0.0428643,-0.0524899,-0.0389978,-0.0414211,0.0151398,-0.0575424,0.0435754,0.0190196,2.89536e-06,0.0142527,0.0519063,0.0200033,0.0241272,0.0490895,0.0130136,0.0163059,0.0237892,0.0215706,0.0259802,0.0171116,0.0216349,0.0363329,0.0402977,0.0102083,-0.0036903,0.0129919,-0.0540545,0.0355156,-0.0261044,0.11973,-0.0948181,0.0382062,0.0373425,0.0153432,0.0341715,-0.0219107,0.0261216,-0.0175967,0.0544547,-0.0406199,0.0278078,-0.0334616,-0.0231086,-0.0686573,-0.00527937,0.0538507,0.00947597,-0.00819588,0.0974709,-0.00220368,-0.00269537,0.0555437,-0.0136119,0.0452987,0.076428,0.038493,0.0672189,-0.0373568,0.0295694,0.0310395,-0.0231227,0.0573166,-0.00231053,-0.00105337,0.0465155,-0.0447295,-0.0372151,0.0712768,0.0371213,0.0469206,0.0467124,0.0169852,0.0085268,-0.00508993,-0.025803,-0.1035,-0.0125261,0.0206191,0.0236629,-0.0175012,0.0584133,0.0571749,-0.0459727,-0.0496348,-0.021888,0.0209482,0.0019433,-0.0187314,-0.0074372,-0.00218253,-0.07059,0.00823014,0.0110603,-0.0518627,0.0201015,0.00996759,-0.0228641,0.0390721,-0.062779,0.00686834,0.0672461,0.0644084,-0.0238413,-0.0325718,0.0252903,-0.0601871,-0.0116105,0.00600625,0.0211471,-0.0416595,0.037158,-0.00400494,-0.0053696,0.0392723,-0.0318132,0.0642756,-0.00763207,-0.0613526,-0.0189413,0.0116482,0.072269,0.0117421,0.00915954,0.0286362,0.0301618,-0.0291285,0.0349913,0.0523178,-0.0650169,0.0519824,0.0360885,-0.0664518,-0.0192797,0.0781334,-0.0227457,-0.00231979,0.028586,-0.0514286,0.0739285,-0.0119529,0.00673556,0.00437749,-0.0265469,0.0445603,0.0106505,-0.0225162,0.0429628,0.0900252,-0.0117832,0.028434,-0.0789942,0.0322349,0.0371435,0.0318241,-0.0428987,0.0320505,0.0755343,0.0419676,0.0502892,-0.0237642,0.0699092,-0.0144145,0.00716311,0.047047,0.0773399,0.0359408,-0.0419052,0.038757,0.0169284,0.013412,-0.0373881,-0.0625488,0.0118387,0.00760164,0.0727391,0.00997272,0.0320619,0.00767992,0.0593533,0.0840588,-0.0428316,0.0628425,0.0209472,0.0398047,0.0546069,0.0363532,0.00125416,-0.0476719,0.0494051,0.0105331,-0.092911,-0.0551917,-0.0461821,0.00172292,-0.0216691,-0.0228595,-0.0255648,0.0213872,0.0210808,-0.0752075,0.033116,-0.0451808,0.0171027,0.0192668,0.106919,0.0390067,-0.000253099,-0.0040169,0.00982353,-0.0574329,-0.0269229,-0.0254446,-0.0898394,-0.0223309,0.0174872,0.0147864,0.0405753,-0.00420939,-0.0511632,-0.0887004,0.0533947,-0.0640868,0.0435932,0.0665385,-0.00172436,-0.0148355,0.0651281,0.0125325,-0.0531403,0.00102593,-0.0110232,0.107279,-0.0088373,-0.0103069,-0.0648758,-3.64672e-05,-0.020621,-0.00384284,-0.0632329,0.0734133,-0.0623039,-0.0118893,0.0258697,-0.0591878,0.0343942,-0.0126769,0.0272751,0.00927853,0.00317719,0.0431869,0.0668291,-0.0103754,0.141211,-0.020105,0.0126587,-0.0348673,-0.0083103,0.00228488,-0.0618422,-0.0825695,0.0159288,0.0404206,-0.0373095,-0.0129466,0.0293042,-0.0150924,-0.0357282,-0.0341543,-0.00889851,-0.0857216,-0.0386005,0.0647202,0.0681023,0.0515539,-0.0156783,0.093096,-0.0537721,0.0204793,0.024286,-0.0122341,0.0386289,0.033052,-0.0251893,-0.028412,0.0633617,-0.0406235,0.0806411,-0.00211771,0.00431904,0.00822567,-0.0093504,0.0379314,0.0083636,-0.0888596,-0.0410467,-0.0297478,0.0326143,0.0710267,0.0600995,0.101989,0.0539444,0.004329,0.0422767,-0.0334006,0.0105362,0.00281091,-0.0033817,0.00957982,-0.0131394,0.000847034,0.00938345,0.00380877,0.0206378,-0.0177851,-0.0144365,0.00489284,0.0588999,0.0886347,-0.0737505,-0.0502367,-0.037263,-0.0543621,0.0110485,0.0218996,-0.0607077,0.0638905,-0.00915414,0.0713385,0.0363927,-0.0242127,-0.0660827,-0.0933185,0.0176996,-0.0691323,0.030969,-0.0144496,-0.015935,-0.031753,-0.00614505,-0.00409248,0.0357414\"    },     {      \"box\": \"706,382,778,465\",       \"embeddings\": \"0.0658052,0.00247637,-0.0510436,0.0143211,-0.0280347,-0.0250478,-0.0199165,0.0284676,-0.0102319,0.0302797,0.104573,0.0440392,0.0764141,0.0115596,-0.0314041,0.0216461,0.032753,-0.0146522,0.0256684,0.0243236,0.0276968,-0.0275138,0.0427045,-0.0904769,0.0156246,-0.0618112,0.0388797,-0.0300056,0.0393244,-0.033986,0.0569652,0.0510434,0.0112935,0.0503983,-0.0214326,-0.0986096,-0.024771,-0.0512272,-0.0487659,-0.0157526,-0.0863773,-0.0382475,0.0126209,0.0773588,0.00204265,0.0289259,0.0440404,0.027132,-0.0211952,0.0195908,-3.46578e-05,-0.0726423,0.0325567,-0.0311662,0.0301111,0.0270065,-0.048501,0.064739,-0.0359317,0.04545,0.0109057,0.0817021,-0.0649119,0.0441319,0.0300501,0.0231959,-0.00495794,-0.0507046,0.0323751,-0.056807,0.0130288,0.0238451,-0.0137087,0.0903089,-0.00710889,0.0100117,0.0259146,-0.039053,0.0028718,0.013127,0.0263761,0.0216606,-0.0336152,-0.0200489,0.0234093,-0.0120295,0.00847181,0.0656692,0.00775539,0.0165172,-0.0289416,-0.0348683,0.0217405,-0.0315872,-0.0223688,0.0432165,-0.0185785,0.0626933,-0.0264434,0.0337157,0.0233453,0.0225767,0.0483732,-0.00177089,-0.00127479,0.0278913,-0.00849026,-0.0718869,-0.0379642,-0.00854741,0.0365994,-0.0263294,-0.0136397,-0.0507872,-0.0262926,0.0450453,0.0504445,0.0461319,0.0373416,0.116759,0.0172053,0.0283844,0.0110603,-0.00895448,-0.0797311,-0.0170988,0.0818238,-0.0927532,0.0515186,-0.0435927,0.0103062,0.0155251,0.0103659,-0.00314386,-0.0345486,-0.0174467,-0.0467343,-0.0299798,0.0598515,0.00567053,0.00645808,0.0399287,-0.0481122,-0.0781702,0.0184149,0.0235049,-0.0239646,0.0415931,0.060302,0.0112643,0.0616598,0.0296266,-0.0382107,0.0887306,-0.000323975,-0.0395269,-0.090625,-0.0208652,-0.0114447,-0.0654781,0.0526731,0.02159,0.0262222,0.0146776,0.0788827,-0.0415377,0.0101043,0.0256409,-0.0446142,0.0455134,-0.0430875,0.0359026,-0.011867,-0.054459,-0.016147,-0.0223892,-0.0386338,0.0718681,0.00508857,0.0185308,0.0430981,-0.00377917,-0.0217078,0.0212284,0.0509218,0.0282048,0.0457312,0.0113895,-0.0417555,0.0554266,-0.00913467,0.0315314,0.0763168,-0.0170734,0.0319386,0.0626737,0.00420477,0.00431848,0.0354204,-0.0113992,0.12339,-0.0369948,0.0552043,-0.0253227,0.0319854,0.00797258,-0.0157794,-0.0118163,-0.0206538,0.0437167,-0.0299991,0.0179333,-0.0221415,0.0182791,-0.0412555,0.0506212,0.0255364,-0.0191617,-0.00443449,0.0365837,-0.0267983,0.0241487,0.0667756,0.0144724,0.0195663,0.026075,0.00432797,0.0195914,-0.026683,0.0137472,0.0243769,-0.0532503,0.0207268,-0.0680216,-0.0548314,0.0666684,-0.028735,-0.00489754,0.0666629,0.0134937,0.0321642,0.0567609,0.018817,-0.0438718,0.0169209,0.0490338,-0.107785,-0.00238495,0.03025,0.0410672,-0.0853202,0.0414961,0.0368934,0.0173035,-0.0744697,-0.00597068,0.00337586,0.0383794,0.0754007,-0.0013865,-0.0709937,-0.0574225,0.0129889,-0.0148555,-0.00697333,-0.0524068,0.00458081,0.0143284,0.0466141,-0.0549677,0.0500564,0.0619008,0.0499194,0.0414217,-0.0384136,0.0544584,-0.00184691,-0.000786341,-0.0424586,0.0219802,0.00689811,0.0286434,-0.056974,-0.0730253,0.0868157,-0.0399558,0.0133173,-0.0300492,-0.0814382,-0.00420669,0.019761,0.00662795,-0.0407673,0.051054,-0.0325554,0.0055461,-0.0362691,-0.00425933,0.0648565,-0.000276156,0.0476912,0.0371759,-0.00282226,-0.022932,0.0495977,0.00329318,0.00431636,0.0258781,-0.0740229,0.0238009,-0.0756538,0.0300992,0.0329308,-0.00208571,0.0438821,0.0185103,-0.0239054,-0.013305,0.0714453,-0.0336937,0.0106193,-0.108672,-0.0605948,-0.0068171,0.0198022,0.0150264,0.0155188,0.069882,0.0166316,0.0146832,0.0470967,0.104798,-0.0925821,0.0401733,0.028477,0.062992,-0.0217007,-0.077178,-0.0255697,0.0356841,0.106453,0.0240411,-0.014992,-0.000177157,0.0199732,0.0293611,-0.0208479,0.0188638,0.0210161,0.072905,0.057481,-0.0717901,0.0529617,0.0623635,-0.00344779,0.0144097,0.0687938,0.0121925,-0.0189434,0.000748227,-0.0558288,-0.103959,-0.0573212,-0.0566639,-0.0140442,0.0217121,-0.017423,-0.0689867,-0.048569,0.0176354,-0.0681837,0.014158,-0.0874075,0.0214872,0.0440552,0.0592139,-0.0154212,0.0314998,-0.0322563,0.0192932,-0.0692948,-0.00570936,-0.0169504,-0.0179082,0.00171681,-0.0537152,0.017487,0.0443488,-0.0606249,-0.0513453,-0.0249092,-0.0117253,-0.0398044,-0.0224897,0.097197,0.00123124,0.0370083,0.084001,0.0634406,-0.0585896,0.0161416,0.0350062,0.12263,-0.0090219,-0.0317114,-0.0245125,-0.0169066,-0.0202909,0.0144541,-0.0474215,0.0818516,-0.0359464,-0.0137721,-0.0160354,-0.0294406,-0.00371528,0.0894047,0.114332,-0.0137597,0.0145173,0.0517681,0.0838488,0.00328214,0.117405,0.017001,0.0272506,-0.0165704,0.03469,0.048318,-0.0523977,-0.0487298,0.00225026,-0.0457903,-0.0474652,-0.0148783,0.0648528,-0.00351399,-0.0545278,-0.0264611,-0.0136343,-0.0234838,-0.0556667,0.0286794,0.0389829,0.0398755,-0.000145061,0.0295641,0.0199261,-0.0282336,0.00753128,0.0849509,0.0319757,0.0376571,0.00306968,-0.00947525,-0.034808,-0.0273263,0.0382437,0.0550518,0.0499579,0.00350375,0.0141705,0.0243213,0.0157523,-0.0111141,-0.0340133,-0.0168861,-0.00884167,0.0460466,0.00904497,0.0763925,0.0338023,0.0923973,-0.0473546,-0.0943739,-0.034703,-0.0201971,-0.0294913,0.0731602,0.00103783,-0.0207364,0.0199819,-0.00211245,0.0799201,-0.0596435,-0.0722745,-0.045361,0.112163,0.0251507,-0.0800178,-0.00454192,-0.0293815,-0.0346927,-0.0163589,0.0671339,-0.061212,0.0672734,-0.0195952,0.026244,-0.0917922,-0.0166334,0.00380814,-0.0746498,-0.030983,-0.076047,0.0191299,-0.0325568,0.00583758,-0.0577877,-0.00514213,0.0210946,-0.00452443\"    },     {      \"box\": \"698,529,785,627\",       \"embeddings\": \"0.0596226,0.00236042,0.0247175,0.0831276,-0.0130286,0.0914953,-0.0426681,0.0549203,-0.0312747,-0.0127178,0.0699071,0.0315603,0.106735,0.0310406,-0.0816586,0.0106055,0.0641958,0.0629995,-0.0302009,-0.0334022,-0.00754111,0.0217391,0.0339517,-0.0720453,-0.0329916,-0.0415958,0.0281748,0.0331088,-0.0111618,0.00219213,0.0946828,0.0258056,0.00413051,-0.025184,-0.0184866,-0.082266,-0.0475754,-0.0638685,-0.0602748,-0.0539877,-0.031998,0.00985621,0.0730267,0.0142274,0.0736461,0.056002,0.0332546,-0.00772886,-0.0258312,-0.0484508,0.0138774,-0.0161393,0.0732773,-0.0505406,-0.0341218,0.019614,-0.0143413,-0.0271116,-0.00464287,0.0667642,0.0248873,0.00564028,0.0149912,0.0594657,-0.0847013,0.0514829,-0.0206651,0.0158215,0.0629578,-0.0169814,0.0183182,0.0228606,0.00636391,0.0585086,0.0279656,-0.0258739,-0.0247489,-0.0143296,0.0151318,-0.0610581,0.0302093,0.00267607,-0.0321908,-0.0142006,-0.0198205,-0.00265137,0.0575521,-0.00104539,0.0409645,-0.0236062,-0.0828558,-0.00934548,0.0273673,0.00830808,0.028518,0.0374983,-0.0409316,-0.0237707,-0.00662387,0.0384579,0.0655974,0.0815358,0.0313669,0.0225002,0.0374888,0.0403489,-0.0613888,-0.104306,-0.0361824,-0.0125669,0.0349048,0.0693849,-0.0480556,-0.0231536,0.028913,0.0233749,0.00220569,0.0410753,0.0234717,0.0340478,0.0374534,0.0479363,-0.0518475,-0.0935846,-0.0303412,-0.00656804,0.0480321,0.0266782,0.101382,-0.0209458,0.0370811,-0.00346283,-0.0221698,0.0131058,0.0109818,0.0217887,-0.0920684,-0.0693503,0.0695209,0.0677983,0.012573,0.0632669,-0.0267215,-0.0938675,0.00437421,-0.0167017,0.00192603,0.00554704,0.0501546,0.0557589,0.0480939,-0.0491195,-0.0156315,0.0652533,0.0617371,-0.0161706,-0.0484635,-0.0725524,-0.011036,-0.080449,-0.0116303,0.0552392,0.00231155,0.0120616,0.0680897,-0.0498241,0.0229622,0.0380679,-0.0529451,0.0222802,-0.0328596,0.0991699,-0.000291873,0.026909,0.0187488,0.0318709,-0.0178223,0.0853866,0.0240316,0.0292314,-0.0283078,0.017389,-0.00728516,-0.044711,0.0562497,0.0428247,0.019653,0.00384488,0.0186972,-0.0131798,0.0189794,0.028733,0.0782419,-0.0428336,0.0752799,0.00900745,-0.0159703,-0.0434325,0.0651409,-0.0672086,0.0821565,-0.0111252,0.0513124,-0.02511,-0.000574541,0.0193044,-0.0646785,0.00797904,-0.00725287,-0.0375091,-0.0241336,0.0357231,0.0292796,0.0674329,0.0356681,0.0649078,-0.00620001,-0.00373455,-0.00224387,-0.0300901,0.0338479,0.0369501,0.00884581,0.0646706,0.0598161,0.00543256,-0.0126608,0.00695313,0.0315133,0.0194094,0.0606772,0.000486029,0.0326358,-0.0557524,-0.0401709,0.0226879,-0.0600487,-0.029018,0.11788,0.0257384,0.0148505,0.057279,0.043311,-0.0579371,0.0333077,-0.0192168,-0.019288,-0.00238016,0.00877326,0.0487735,-0.0965219,-0.021578,0.0216212,0.0231786,0.0153968,-0.0235637,0.02986,-0.00460535,-0.00924979,0.0161539,-0.0613956,-0.0359437,0.0456542,-0.0187362,-0.0228835,-0.0972183,0.00324812,-0.0258241,0.0724283,-0.0340027,0.0282318,0.0473462,0.149788,-0.013339,-0.000957178,0.0149303,0.0379226,-0.0141211,-0.04435,-0.0401411,0.028809,0.039528,-0.0114322,-0.0650572,0.00173534,0.0367465,0.0212668,-0.0554492,-0.112967,-0.0173024,-0.00349007,0.0136731,-0.0648654,0.0164422,0.0499188,0.0307343,-0.0326044,-0.0122299,0.0466341,-0.0466715,0.124471,0.0212667,0.0495861,-0.073269,0.00550376,0.0555384,-0.026492,-0.0371715,-0.0496893,0.0629254,-0.0366212,-0.0444403,-0.00667294,0.0201421,0.0687212,-0.0555857,-0.0298426,0.0172221,0.0605825,-0.0072159,0.0328243,-0.0899249,-0.0475021,-0.0526642,0.0549037,0.0139649,0.0217503,0.0378281,0.0819247,-0.0294892,0.0139274,0.0423697,-0.0417678,0.00470612,0.0432962,0.061438,0.0663433,-0.0350862,-0.0294031,0.0289092,0.0298441,-0.0580944,0.0959788,0.0122877,-0.0249577,0.0437069,0.0120493,0.00570326,0.00570696,0.0177618,0.0459875,-0.0488043,0.0349102,0.0229781,0.0167194,-0.0288039,0.0650935,0.00609491,-0.0724309,-0.0411749,0.00377458,-0.0562679,-0.0541276,-0.034548,-0.00200987,0.0110855,-0.0398901,-0.00159349,-0.0716027,0.0156661,-0.0251215,0.0201576,-0.0157311,0.0294537,0.0272436,0.0545707,-0.00383365,0.0291597,-0.0154217,0.0190101,-0.112535,-0.00823505,-0.0412218,-0.0493103,-0.0422584,-0.00308344,0.0240037,-0.0443216,-0.041654,-0.0833057,0.00467965,0.0341631,-0.0775864,0.00980171,0.0378202,0.0862318,0.0353388,0.089938,0.0523125,-0.00405452,-0.0446917,0.0239718,0.0450753,0.0573004,0.0265793,-0.041381,-0.0284669,0.0733254,0.034996,-0.0409331,0.0829837,0.00942419,0.0458827,0.0209728,-0.0242723,-0.0145283,-0.00967238,0.0596576,0.0804045,0.0306291,0.0291367,-0.00306306,-0.0369333,-0.0141778,-0.0119046,0.000348786,-0.00694617,-0.0288915,0.0250148,-0.0144218,-0.0872229,-0.00839456,-0.0317921,-0.00465327,0.0371332,0.0369694,0.00279231,0.0116621,0.0370578,-0.0230224,-0.0450987,-0.0202245,0.0252482,-0.0249046,0.0263777,-0.00511637,-0.0461565,-1.03699e-06,0.0498097,-0.0665806,-0.0292331,-0.0327884,0.0737896,0.0023921,-0.0473065,0.00963383,-0.0538801,0.0278882,-0.0479755,0.0585123,-0.0404327,0.00341426,0.0625903,0.0339249,-0.0042117,-0.0100211,0.00433102,-0.0661693,-0.0222395,-0.0188642,0.0516333,-0.0417403,0.0162862,0.0116303,-0.127382,-0.0085081,0.0358051,-0.0534721,0.0426212,-0.00440267,0.00321636,0.00240262,-0.0296562,-0.00937132,-0.0810419,-0.0206204,-0.0751484,0.0353896,0.0189657,-0.0439882,-0.0448255,-0.0212384,-0.0229455,-0.0377033,0.0574633,-0.07075,0.046067,-0.0278968,0.0322738,0.0248165,0.0253646,-0.0458413,0.00945643,-0.0858768,-0.0541068,0.0570741,0.0664171,-0.000106481,0.0148581,-0.0164363,-0.0540198,0.0176947\"    },     {      \"box\": \"655,480,731,567\",       \"embeddings\": \"0.0458212,-0.00420659,-0.00499078,0.00908958,0.0150331,0.0103821,-0.0446948,0.00876699,-0.0301491,0.0521978,0.13513,-0.0091074,0.0412903,0.0239046,0.0279295,-0.0141908,-0.0261698,-0.0118245,0.0353847,0.0342333,0.00864378,0.0085361,0.0652207,-0.10397,-0.0446846,0.0194073,0.0623756,-0.0205856,-0.0277095,0.00465869,0.0376882,0.0428653,0.014351,0.0449978,0.0117804,-0.0895415,-0.0174602,0.00525,-0.0180221,-0.053126,-0.107138,-0.00720946,0.0164573,0.0924006,0.020318,-0.0279627,0.0482726,0.0148362,-0.0330572,-0.00570932,-0.0235099,-0.0380856,0.0202106,-0.0309485,-0.0136793,0.0225581,-0.00613814,0.0277299,-0.0948095,0.0860374,0.0308127,0.020042,-0.0326197,-0.0148914,0.049518,-0.0267157,0.000624007,-0.0888255,0.0259933,-0.00874777,0.0457825,0.0468614,0.00415302,-0.0318336,-0.0600338,0.0443735,0.0531816,-0.0787282,0.0260263,0.0347728,-0.00679219,0.0246536,0.00433369,0.00195589,0.0211827,-0.0130699,-0.0164495,0.0664411,0.018129,0.025692,-0.0471326,-0.0490108,-0.0141032,-0.0358335,0.0248509,-0.00228257,-0.0201079,0.0637342,-0.00889469,-0.0270799,0.0239166,0.0201321,0.0486529,0.0845929,0.0119416,0.0511274,-0.00985163,-0.00177447,-0.00909742,-0.0156107,-0.0347773,-0.0295902,-0.00912694,-0.0544906,-0.0635248,0.0293353,0.0113067,0.0848149,0.0920031,0.0767792,0.019081,-0.0635306,0.0215322,0.0244538,-0.0687087,0.00644275,-0.0215159,-0.0295171,0.0407406,-0.0527142,0.019145,0.0209434,0.0317949,0.0025658,-0.0110582,0.0104935,-0.0438541,0.00316583,-0.0171563,0.0326637,-0.0025198,0.0388818,-0.0767168,-0.0911357,-0.0379626,0.0488769,-0.000542022,-0.00691451,0.0134155,0.0665377,0.0208324,0.0550162,-0.0249654,0.0642556,-0.0578701,-0.0143568,-0.0535278,-0.0134657,0.0145508,-0.0902268,0.00531257,-0.003101,-0.0184356,0.00696554,0.0535178,-0.105831,0.0321002,-0.0119222,0.00589918,0.0294278,0.0332228,0.0452342,-0.0570346,-0.0476451,-0.0406532,-0.0378914,-0.0481267,0.021453,0.0157361,0.0240719,0.0124919,0.0787302,-0.026194,0.0180205,0.0406078,-0.00749046,0.0571185,0.0644303,-0.0478729,0.00400957,0.00906605,-0.00529518,0.0552029,0.0142535,0.0168554,0.0523027,-0.014747,0.0038093,-0.00593841,0.0495788,0.116982,-0.00210171,-0.00779797,0.00106242,-0.029394,0.0883546,-0.0114236,-0.0618511,-0.0665825,0.00361963,-0.0243118,-0.0545886,-0.0202301,-0.0179384,-0.031779,0.00598442,0.035975,0.0201583,0.0841847,0.0608225,-0.0219226,-0.000232886,0.0650576,0.0199894,0.0558568,0.0289855,0.0251837,-0.00551194,-0.0362789,0.0373777,0.0595705,-0.00376763,0.0118356,0.00791252,-0.0157066,0.0132115,-0.029857,-0.028573,0.0348784,0.0083012,-0.00633013,0.00516069,0.0209951,-0.06797,0.0190529,0.0501697,-0.124156,0.0363249,0.0795702,0.0777092,-0.0564023,-0.00723986,0.00356598,-0.00204234,-0.0655157,0.0222008,0.0194576,0.0823054,0.0683539,-0.0633035,-0.0232933,-0.0716647,0.0629442,0.0353124,0.0128197,-0.008686,0.00965576,0.00125403,0.0666855,0.00876678,0.0623195,0.0391516,0.048839,0.0406636,-0.0437391,0.0534386,-0.00103536,0.0185671,-0.0968932,-0.014132,0.0179388,0.0244151,-0.0123846,-0.0582417,0.00522447,-0.0480636,0.0284981,-0.0325143,-0.0530978,-0.0229928,0.0507516,-0.0386164,-0.0510995,0.0371959,-0.0672008,-0.0392676,-0.0337116,-0.0172012,0.0384272,-0.0291582,-0.0128229,0.0317838,-0.0342522,-0.0601826,0.0393108,-0.00497392,-0.0248175,0.118413,-0.118238,0.079141,-0.0415649,0.0172544,-0.00620607,-0.0161148,0.0333474,0.0735182,-0.0345101,-0.00581013,0.0384423,-0.0296457,-0.00594977,-0.0661391,-0.0282837,-0.0319577,0.034482,0.0408422,0.027121,0.0961298,0.0939391,0.00588193,0.103859,0.0657524,-0.076343,0.0456817,0.043732,0.0584698,-0.0294069,-0.0222722,-0.080943,-0.02216,0.0713206,0.0685296,-0.00245911,0.0456496,-0.0157183,0.07587,-0.0439592,0.0103185,-0.0121808,0.0208212,-0.0161854,-0.0741912,0.0325789,0.0273446,0.034278,-0.0182635,0.0223661,-0.000602468,-0.0110411,-0.0153432,-0.0421553,-0.039027,-0.0665853,-0.0800776,-0.0682026,-0.0558052,-0.0163594,-0.0683985,-0.00653875,0.0242889,-0.0748272,0.0592003,-0.0718274,0.00353542,0.0153436,0.0216507,0.0398542,0.0570993,0.00117935,-0.0127593,-0.0193133,-0.0553752,-0.0225424,-0.0882383,-0.0109119,-0.0460042,0.0446132,0.00942333,-0.0420463,-0.034298,-0.0250617,-0.0206808,-0.0310873,-0.0495,0.14119,-0.0129772,-0.0157056,0.0632422,0.0402012,-0.0281711,-0.00878261,0.0245056,0.0936167,-0.0159246,0.00688963,0.0252312,-0.0139521,-0.058638,-0.0176808,-0.0335938,0.037493,0.0150312,0.00907854,0.0292773,0.0248445,-0.0227553,0.0399368,0.0619073,-0.0140256,0.022784,0.106246,0.00350453,0.0117758,0.090635,0.0476817,0.0539618,-0.0383069,0.0435154,0.0356497,-0.0258323,-0.0256025,-0.0498355,-0.0570383,-0.0354392,-0.026646,0.0290547,0.00258985,-0.0488083,-0.0708306,-0.0101258,-0.0590562,-0.048601,-0.00840226,0.0160997,0.017203,-0.0139062,-0.0119963,0.0111795,-0.0385262,0.0038606,0.0959995,0.104068,0.0422452,0.0278252,0.0206664,-0.0503991,-0.0694695,0.0697108,0.04001,0.0380973,0.0031445,0.001835,-0.0296333,0.0469981,0.0212814,-0.0369284,-0.00835646,0.00826483,0.0288174,-0.031311,0.0186104,0.00684492,0.0736732,-0.058631,-0.0856277,-0.0180873,-0.00688779,-0.0341074,-0.00113218,-0.0329543,-0.0418503,0.0486194,0.0257054,0.0188389,-0.0823186,0.0149331,-0.0394512,0.0818035,-0.0374178,-0.0780535,-0.00686429,0.0267815,-0.0623448,-0.00838017,0.0206759,-0.0272587,0.050722,-0.0401578,0.0137614,-0.0784357,-0.00362914,0.0165316,-0.0533712,-0.021006,-0.014224,-0.0238166,-0.0362292,-0.0222724,-0.0800722,0.0411437,0.0158076,-0.0301797\"    },     {      \"box\": \"604,246,670,319\",       \"embeddings\": \"0.0521575,-0.0450427,-0.0682371,0.0185755,0.00807067,0.0179612,0.0125551,-0.0131981,-0.0147367,-0.00870893,-0.0315098,-0.0296295,-0.019036,0.00993853,0.0670487,-0.0106135,0.0222022,-0.0272852,0.0100297,-0.0690799,-0.0243162,0.0634928,0.0669509,0.0782246,0.00274284,0.0758098,-0.0578521,-0.0566776,0.0502464,-0.00100395,-0.0814303,0.0543166,-0.000759621,-0.0287157,0.0144803,0.0475341,-0.0328373,-0.0162197,-0.0398846,-0.00379261,-0.00603576,0.0160754,-0.0191892,-0.0498251,-0.00577485,-0.00471447,-0.0109034,0.0508339,-0.0954294,0.0577068,0.0304553,0.0215907,0.0314229,-0.000105634,-0.0743097,-0.00341955,0.0391691,0.0133539,0.0475376,0.0444839,0.0304452,0.042084,-0.00870553,-0.0543619,0.00197646,0.00244669,-0.00277564,0.00488146,-0.000846269,0.0668313,-0.0146404,0.0732394,0.00398167,0.0313,0.0407572,-0.0199888,-0.0471144,0.0160715,-0.0416222,0.0793297,0.0637612,-0.0207364,-0.0794299,0.0396902,0.044788,-0.0698971,0.00629056,0.0480855,-0.0662566,-0.0365439,0.107581,-0.0177956,0.0896935,-0.0266797,0.0876007,-0.00686713,0.00943049,-0.00597109,-0.0567032,0.017978,0.0477511,-0.0478134,-0.00687603,0.0378116,0.00141288,-0.00860329,-0.000707868,0.0114436,-0.00712006,-0.0301828,0.055821,-0.0137065,-0.0102713,-0.116992,-0.0393094,-0.1178,0.00210661,-0.0876157,-0.0450307,0.0600693,-0.0153649,0.0522308,-0.0587937,-0.0556004,-0.0318199,-0.0277276,0.0148572,-0.0203706,0.0446914,0.0152562,-0.0221884,-0.0352061,0.0332444,-0.0111472,-0.144764,0.0236007,0.040616,0.036234,0.0625777,0.087818,-0.00433253,0.0166113,0.047575,-0.00577,0.0528971,-0.0439218,-0.043709,-0.0480987,-0.0307553,-0.0512636,0.0138358,-0.010111,-0.0584265,-0.0052085,0.0369222,-0.0461217,-0.0667216,0.0976688,0.0384425,-0.0594398,0.0417486,-0.0427155,-0.00707241,0.0336548,0.0528775,-0.00175159,0.000643385,-0.00928864,-0.0342432,-0.0060998,0.00614466,-0.0299898,0.0169851,-0.0694287,0.0795296,0.028341,0.0165255,0.00613737,-0.0380426,-0.00591048,-0.0890831,-0.0458258,-0.0967077,-0.0387882,-0.0147935,0.0138983,0.0237166,-0.0171027,-0.0547858,0.042461,0.0306037,-0.0877895,0.123804,-0.036487,-0.00888676,-0.0211816,-0.0189163,0.0312928,-0.0751493,0.0290936,0.046687,0.0927708,-0.00453445,-0.0325252,-0.0141121,-0.00432647,0.0485382,-0.100189,-0.00410138,0.0737926,0.00340287,-0.0251998,-0.0583441,0.0220693,0.0318161,0.0633076,0.0241045,-0.0426354,-0.0129361,0.000184787,-0.0279371,-0.0967975,-0.0826934,-0.0354415,-0.0139594,-0.0715953,-0.0172885,0.00971314,-0.0345205,0.0171563,0.0572412,0.027198,-0.0465613,-0.081103,0.00143758,-0.0355493,0.00452128,0.0172179,0.00140488,-0.0683455,0.0208544,-0.0766172,-0.00650945,-0.0185097,0.0831686,0.083182,0.0479846,0.0511391,0.00349886,0.0421424,0.0298537,0.0257138,-0.0413708,-0.0211955,0.00839978,-0.0162181,-0.0436649,-0.0106038,0.0348326,0.0489877,-0.0290647,-0.0394757,0.0468928,-0.0672941,0.0158248,-0.0468955,-0.0325213,0.0499982,-0.0487001,-0.0247019,0.0391777,0.0135985,0.00825265,0.0655907,0.00191211,-0.0582264,-0.010593,0.0574399,-0.068379,-0.01577,0.051541,0.00793466,-0.00249008,-0.0926128,-0.0627274,-0.051119,-0.03054,-0.0126535,-0.0590553,-0.0462855,-0.0249643,-0.0485022,0.0407646,-0.0146166,-0.0280937,-0.0671808,-0.0161676,-0.013773,-0.0558101,0.0012739,0.079063,-0.0614838,0.0635268,0.0097368,0.0166642,-0.0109732,-0.0266656,-0.0249178,0.089487,0.0278421,-0.0625589,0.0260312,0.015987,0.0616259,0.0263194,0.0143189,-0.0585202,0.0253438,-0.0276837,-0.0408436,0.00855702,0.00094958,-0.0352571,-0.0192842,-0.0547908,0.0326119,-0.0930773,0.0329679,-0.0329067,0.0231722,0.0340278,0.0305054,-0.0178518,0.0649224,-0.0364276,-0.0559476,-0.0637838,-0.0059365,0.0147257,0.000178443,0.0491792,0.0214771,0.0287559,-0.0412073,0.071891,-0.0795762,-0.00219105,0.00513298,0.019143,-0.0359914,-0.0374246,-0.0360927,-0.0669879,-0.017788,-0.0577291,0.0554216,0.0400259,-0.047524,0.0354943,0.0114185,-0.0391886,0.0202588,-0.0353435,0.0105516,-0.0990066,0.0594995,0.0426786,-0.0241297,-3.47582e-06,-0.0732366,-0.020912,0.0440761,-0.0394441,0.0303085,0.0408822,0.0718316,-0.0351631,0.0112569,-0.00759127,-0.00159349,-0.0189052,-0.0515801,-0.0513196,0.0771958,0.0639637,-0.00322575,-0.0229934,0.0243045,-0.00919525,-0.0103826,0.0826293,0.0249809,0.0431663,-0.00478885,-0.0403971,-0.0522492,0.0309799,0.0332747,0.0188839,0.00640744,-0.0613238,0.0533409,-0.0144584,0.0224354,-0.0504279,-0.036512,-0.00695854,-0.0854011,-0.0221459,-0.00151785,0.0706662,0.00764814,-0.00941669,-0.0394485,0.0134948,-0.0604423,0.0265886,-0.00429935,0.014644,-0.0733607,-0.0239157,-0.0371,-0.0227232,-0.0140193,0.00742855,0.0257815,0.0919876,0.029379,-0.0104517,-0.0233895,0.0255465,0.0330499,-0.0593198,-0.0825852,-0.00317904,-0.00970678,0.046674,0.0201837,0.00490933,-0.0185757,-0.0352299,-0.007168,-0.0197073,0.0361073,-0.0184645,-0.0295117,-0.074951,0.0975136,-0.0219025,-0.050017,-0.00809188,-0.0138375,-0.0128525,-0.0513326,0.0341608,-0.0248563,0.0149184,0.0696781,0.0825107,0.0598169,-0.054587,0.0216708,-0.0463985,0.0361666,0.082088,-0.0482692,-0.00241024,-0.0328813,0.0164102,-0.0105313,0.0125698,-0.0278891,0.0208159,-0.0420808,-0.0619147,-5.98617e-06,0.0579484,-0.0413055,0.0517119,0.0242146,0.00790663,0.0407377,0.0547442,0.00082481,-0.0157333,-0.0358816,-0.0859295,0.0505237,-0.00425572,-0.0574303,0.0386303,-0.0338033,0.0503065,-0.0728574,0.0813173,0.0204553,-0.014588,0.00680513,0.0366748,-0.0544315,-0.0270264,0.0342504,0.0301674,0.0146452,0.0211562,0.0285798,0.0163243,0.00213716,-0.0229783,0.00127621,-0.0136365,-0.106284\"    },     {      \"box\": \"1099,446,1180,533\",       \"embeddings\": \"0.0569572,-0.0493107,-0.0730254,0.0253097,-0.0156791,-0.00673193,-0.029078,0.0669992,0.0103614,-0.00304031,-0.0604783,0.021973,-0.0561841,-0.00900598,0.0064791,-0.0436944,0.041734,0.00900053,0.058142,-0.043732,-0.0287995,0.0918591,0.0588234,-0.00747404,-0.0235441,0.0414427,0.0399528,0.0103798,0.0239911,0.0178924,-0.0508589,0.0157393,0.0672353,-0.0499646,0.0182137,-0.0123209,-0.0832877,0.0300991,0.0186448,-0.0295588,-0.0356843,-0.00113005,0.0169336,-0.0577077,0.00322564,0.00626744,-0.0535838,0.0218455,-0.0939969,0.0481085,0.0509897,0.0686868,0.020368,-0.0220148,-0.110704,0.0283556,0.0124706,0.102675,0.0290894,0.0162691,-0.0434057,0.02146,-0.00760465,-0.0201165,-0.0449335,0.0266745,0.00769192,-0.0236044,0.0202204,0.00697917,-0.00110084,0.0248938,0.0201663,0.00828258,-0.00839619,-0.00882537,-0.00948356,-0.0675246,-0.0547462,0.0511154,0.0265881,0.0222245,0.0135931,-0.0387969,0.0181281,-0.023893,0.0239918,-0.00765411,-0.0805658,-0.0031329,-0.00649348,-0.0732715,0.130502,-0.0726997,0.00358802,0.0224287,-0.00777914,0.012353,-0.0675914,-0.0113225,0.0465256,-0.00449807,0.0243319,0.0480023,0.0396897,-0.00642743,0.0388865,0.0329178,0.0492074,-0.0661992,0.0307838,-0.0312841,-0.0587671,-0.115105,0.0310869,-0.0549264,0.0450315,-0.013575,0.0299859,0.0447629,-0.0550441,0.0310653,-0.0542526,-0.0407028,-0.0433939,-0.0472897,0.0336427,0.00385722,-0.0439244,-0.0171995,-0.0644397,-0.0177296,0.0232488,-0.0605078,-0.129402,0.0254954,-0.0170822,0.0453737,0.1001,0.0633548,0.0359219,0.0459064,0.0124042,0.0338877,0.0391001,-0.0241336,-0.0143699,-0.0239966,-0.0336321,0.03429,0.0363927,0.0236249,-0.0262159,0.0189652,0.0287744,-0.0373062,-0.0179059,0.0367467,0.0402396,-0.0400034,0.0658858,-0.00702488,-0.0108209,0.0352249,0.0928598,0.0194523,0.0151515,-0.0358594,-0.0733111,0.0682183,0.00227153,0.0128398,-0.00927962,-0.0859461,0.0346717,-0.00876609,-0.0284843,-0.0560143,-0.0225204,0.0205302,-0.0509231,-0.0298411,-0.0675947,-0.00630016,0.0241501,-0.000199079,-0.0199232,-0.000203121,0.000403083,0.0643766,0.091642,-0.0155423,0.0530729,-0.0557737,0.0840739,-0.00394417,0.0234251,0.0298263,-0.0598821,-0.00218522,0.0544906,0.07076,-0.0120932,-0.0375141,0.018674,0.0367568,0.0215916,-0.0784824,-0.0483504,0.0697354,0.0640269,-0.00527171,-0.0376582,-0.0183118,-0.00515491,0.00456793,0.0040882,-0.0238465,-0.00254429,0.0316399,-0.0161621,-0.0395894,-0.0384559,-0.0401157,-0.0183038,-0.036811,-0.00534401,-0.000139673,-0.00856338,0.0177555,0.105072,-0.00899615,-0.00799387,-0.0451709,-0.0413309,0.0129665,0.0362139,-0.0515117,-0.0368783,-0.0603622,0.0294511,-0.0698082,0.03116,-0.0289486,0.0627796,0.106876,-0.0269442,0.0266979,-0.0134277,0.0172145,-0.0352341,0.0189748,0.00757763,0.04138,0.0204407,-0.0256676,0.0019954,-0.0300377,0.0259274,0.0372942,0.00259943,-0.00484709,0.0599288,-0.0344355,-0.0267406,-0.0121351,0.0147067,0.0114955,-0.0379524,0.0114072,-0.00670352,0.0893125,0.0160027,0.0163013,0.0152222,-0.0376991,-0.0155988,-0.00406289,-0.0132641,-0.0307241,0.0164043,0.000349904,-0.00815349,-0.155825,-0.0544282,-0.0448955,0.0479098,0.0495819,-0.0893685,-0.0743327,-0.00349802,-0.0405071,0.0335111,-0.0494885,-0.0578559,-0.0822437,-0.0213658,0.0176778,0.0396149,0.0210266,0.0742621,-0.061643,0.0112367,-0.0090756,-0.00831113,-0.0387053,-0.0322335,-0.0115291,0.0317173,0.0316469,-0.0232352,0.0188262,-0.0502181,-0.0121737,-0.00334992,0.0326106,-0.0256861,-0.00655985,0.0288905,-0.0655079,0.0799517,-0.00806544,-0.030204,-0.0212798,-0.0508435,0.0263549,-0.0347966,-0.0430619,0.0166077,-0.017139,0.023485,0.0359002,0.0190052,0.0908282,0.0119468,0.0343216,-0.0578878,-0.0179756,-0.0122708,-0.0807778,0.0697872,0.0505173,0.0169511,-0.016245,-0.00511289,-0.0473974,0.0161993,0.0296781,0.0493242,-0.00528325,-0.0451518,-0.0479473,-0.0634249,0.00809028,-0.0642946,0.0216371,0.0668807,0.00343184,-0.0594521,0.0539604,-0.00873075,0.0604559,-0.00515133,0.0426162,-0.0464008,0.00367703,0.0606212,-0.0299134,0.0299035,-0.0489049,-0.068404,0.0702769,-0.0611323,0.0295533,0.0207166,0.0628279,-0.0848336,0.0397339,-0.0267669,0.00151353,-0.0567137,0.0343805,-0.0466684,0.0561908,0.106653,-0.0409301,0.0450783,-0.012097,-0.0584927,-0.0349554,0.0515431,0.0419917,0.00785679,-0.0721741,0.0106246,-0.0264378,0.0610351,0.035107,0.0449472,0.0213678,0.0186756,-0.0238279,-0.0398977,0.0428993,-0.0493495,-0.0400656,-0.0536672,-0.0835731,-0.0188401,-0.0520742,0.0275293,-0.0282333,-0.00464569,0.00855164,-0.0293562,-0.0371911,0.0505926,0.0620741,-0.0378704,-0.0319953,0.0697883,0.00444926,0.0559063,0.0130333,-0.0303517,-0.0679478,0.0291008,0.0419384,-0.00727067,-0.0880286,-0.0323131,-0.0164474,-0.0320555,-0.0703984,-0.0490104,-0.0257227,0.0206224,-0.0207353,0.0337555,-0.0346684,-0.0437808,-0.00145308,0.0300207,0.0521675,-0.0232268,-0.0123468,-0.0283862,0.0567371,-0.048614,-0.0316171,0.0102882,0.0733579,0.00210155,-0.0308776,-0.00176656,-0.0401904,0.00207503,0.0235238,0.0614472,0.106972,-0.047729,0.0115111,-0.0180963,0.000734038,0.0722649,0.0101322,-0.0246182,0.00783729,0.0562188,-0.00850886,0.0206365,0.00902048,0.0894012,-0.0407111,-0.0655888,0.0501484,0.0475088,-0.0400891,0.0562047,-0.00410594,-0.00857634,0.00375554,0.0682161,0.00222143,0.03888,0.0109528,-0.106605,0.0766662,0.00111743,-0.0406369,0.0551045,0.00523767,0.0285833,-0.061123,0.101978,0.0461772,0.0485089,-0.0635919,0.00907939,-0.0756335,-0.00518262,0.077393,-0.0384823,0.0491303,0.0722949,0.0315657,0.00463735,-0.0202176,-0.0786458,0.0371389,-0.0235403,-0.113491\"    }  ],   \"image\": \"b080650b-63ff-4122-9585-53b12794bc17\"}";
        }

        if (faceDataStr == null || faceDataStr.isEmpty()) {
            log.info(" faceDatastr is empty!!!");
            return faceDatalist;
        }

        JSONObject faceDataJson = new JSONObject(faceDataStr);

        JSONArray array = faceDataJson.optJSONArray("faces");
        Iterator<Object> it = array.iterator();

        int i = 0;
        while (it.hasNext()) {
            i++;
            JSONObject obj = (JSONObject) it.next();

            String box = obj.optString("box");
            String[] vals = box.split("\\,");

            Map<String, String> map = new HashMap<>();

            map.put("objectIndex", String.valueOf(i));
            map.put("x", vals[0]);
            map.put("y", vals[1]);
            map.put("width", String.valueOf(Integer.parseInt(vals[2]) - Integer.parseInt(vals[0])));
            map.put("height", String.valueOf(Integer.parseInt(vals[3]) - Integer.parseInt(vals[1])));

            map.put("vector", obj.optString("embeddings"));

            faceDatalist.add(map);
        }

        return faceDatalist;
    }

    public static double compareTwoFaces(String[] vectorArray1, String[] vectorArray2) {
        double dist = 0.0;

        try 
        {
            for (int i = 0; i < vectorArray1.length; i++) {
                dist += Math.pow(Double.parseDouble(vectorArray1[i]) - Double.parseDouble(vectorArray2[i]), 2);
            }

            dist = Math.sqrt(dist);

            return dist;
        } 
        catch (Exception e) {
            log.info("compareTwoFaces fails e=" + e);
            throw e;
        }
    }

    public static List<Map<String, String>> getFaceRepositories(EntityManager em, int faceRepositoryId) {
        List<FaceRepository> faceRepositoryList;

        List<Map<String, String>> faceList = new ArrayList();

        if (faceRepositoryId == 0) {
            faceRepositoryList = em.createQuery("from FaceRepository").getResultList();
        } else {
            faceRepositoryList = em.createQuery("from FaceRepository where id=" + faceRepositoryId).getResultList();
        }

        for (FaceRepository faceRepository : faceRepositoryList) {
            Map<String, String> map = new HashMap();

            map.put("id", String.valueOf(faceRepository.getId()));
            map.put("name", faceRepository.getName() == (null) ? "" : faceRepository.getName());
            map.put("description", faceRepository.getDescription() == null ? "" : faceRepository.getDescription());

            faceList.add(map);
        }

        return faceList;
    }

    public static void removeFaceRepository(EntityManager em, int faceRepositoryId) {
        try {
            em.getTransaction().begin();
            FaceRepository faceRepository = (FaceRepository) em.find(FaceRepository.class, faceRepositoryId);

            em.remove(faceRepository);

            em.getTransaction().commit();
        } catch (Exception e) {
            throw e;
        }
    }

    public static int createFaceRepository(int organizationId, EntityManager em, String faceRepositoryName, String faceRepositoryDescription) {
        FaceRepository faceRepository;
        try {
            em.getTransaction().begin();

            faceRepository = new FaceRepository();

            faceRepository.setOrganizationId(organizationId);
            faceRepository.setDescription(faceRepositoryDescription);
            faceRepository.setName(faceRepositoryName);

            em.persist(faceRepository);

            em.getTransaction().commit();

            return faceRepository.getId();
        } catch (Exception e) {
            throw e;
        }
    }

    public static void updateFaceRepository(int organizationId, EntityManager em, int faceRepositoryId, String faceRepositoryName, String faceRepositoryDescription) {
        FaceRepository faceRepository;
        try {
            em.getTransaction().begin();

            faceRepository = em.find(FaceRepository.class, faceRepositoryId);

            faceRepository.setName(faceRepositoryName);
            faceRepository.setDescription(faceRepositoryDescription);

            em.merge(faceRepository);

            em.getTransaction().commit();
        } catch (Exception e) {
            throw e;
        }
    }

    public static List<Map<String, String>> getFaceGroups(EntityManager em, int faceGroupId) {
        List<Map<String, String>> faceList = new ArrayList();

        List<FaceGroup> faceGroupList;

        if (faceGroupId == 0) {
            faceGroupList = em.createQuery("from FaceGroup").getResultList();
        } else {
            faceGroupList = em.createQuery("from FaceGroup where id=" + faceGroupId).getResultList();
        }

        for (FaceGroup faceGroup : faceGroupList) {
            Map<String, String> map = new HashMap();

            map.put("id", String.valueOf(faceGroup.getId()));
            map.put("name", faceGroup.getName() == (null) ? "" : faceGroup.getName());
            map.put("description", faceGroup.getDescription() == null ? "" : faceGroup.getDescription());

            faceList.add(map);
        }

        return faceList;
    }

    public static void removeFaceGroup(EntityManager em, int faceGroupId) {
        try {
            em.getTransaction().begin();
            FaceGroup faceGroup = (FaceGroup) em.find(FaceGroup.class, faceGroupId);

            em.remove(faceGroup);

            em.getTransaction().commit();
        } catch (Exception e) {
            throw e;
        }
    }

    public static int createFaceGroup(int organizationId, EntityManager em, String faceGroupName, String faceGroupDescription) {
        FaceGroup faceGroup;

        try {
            em.getTransaction().begin();

            faceGroup = new FaceGroup();

            faceGroup.setOrganizationId(organizationId);
            faceGroup.setDescription(faceGroupDescription);
            faceGroup.setName(faceGroupName);

            em.persist(faceGroup);

            em.getTransaction().commit();

            return faceGroup.getId();
        } catch (Exception e) {
            throw e;
        }
    }

    public static void updateFaceGroup(int organizationId, EntityManager em, int faceGroupId, String faceGroupName, String faceGroupDescription) {
        FaceGroup faceGroup;
        try {
            em.getTransaction().begin();

            faceGroup = em.find(FaceGroup.class, faceGroupId);

            faceGroup.setName(faceGroupName);
            faceGroup.setDescription(faceGroupDescription);

            em.merge(faceGroup);

            em.getTransaction().commit();
        } catch (Exception e) {
            throw e;
        }
    }

    public static void removeFaceFromRepository(EntityManager em, int faceRepositoryId, String faceKey) {
        String sql;
        List<FaceData> faceDataList;

        try {
            if (faceKey.equals("*")) {
                sql = String.format("from FaceData where faceRepositoryId=%d", faceRepositoryId, faceKey);
            } else {
                sql = String.format("from FaceData where faceRepositoryId=%d and faceKey='%s'", faceRepositoryId, faceKey);
            }

            faceDataList = em.createQuery(sql).getResultList();

            em.getTransaction().begin();

            for (FaceData faceData : faceDataList) {
                em.remove(faceData);
            }

            em.getTransaction().commit();
        } catch (Exception e) {
            throw e;
        }
    }

    public static void removeFaceFromGroup(EntityManager em, int faceGroupId, String faceKey) {
        String sql;
        List<FaceData> faceDataList;

        try {
            if (faceKey.equals("*")) {
                sql = String.format("from FaceData where groups like '%%-%s-%%'", faceGroupId);
            } else {
                sql = String.format("from FaceData where groups like '%%-%s-%%' and faceKey='%s'", faceGroupId, faceKey);
            }

            faceDataList = em.createQuery(sql).getResultList();

            em.getTransaction().begin();

            for (FaceData faceData : faceDataList) {
                String newGroups = faceData.getGroups().replace(String.format("-%d-", faceGroupId), "");

                if (!newGroups.isEmpty()) {
                    if (!newGroups.startsWith("-")) {
                        newGroups = "-" + newGroups;
                    }

                    if (!newGroups.endsWith("-")) {
                        newGroups = newGroups + "-";
                    }
                }

                faceData.setGroups(newGroups);
            }

            em.getTransaction().commit();
        } catch (Exception e) {
            throw e;
        }
    }

    public static long addOrUpdateFaceToRepository(int organizationId, EntityManager em, int faceRepositoryId, String pictureKey, String faceVectorStr, String faceInfo, List<String> groupIds, boolean isPictureInSystem) throws Exception {
        FaceData faceData;

        try {
            em.getTransaction().begin();

            String vectorHash = DataIdentifier.generateHash(faceVectorStr);

            String sql = String.format("from FaceData where faceRepositoryId=%d and faceKey='%s'", faceRepositoryId, pictureKey);

            List<FaceData> faceDataList = em.createQuery(sql).getResultList();
            int width = 0;
            int height = 0;
            String faceAttributes[] = pictureKey.split(",");
            
            if(faceAttributes.length>0)
            {
                width = Integer.parseInt(faceAttributes[2]);
                height = Integer.parseInt(faceAttributes[3]);
            }
            
            if (faceDataList.isEmpty()) // no face exists
            {
                faceData = new FaceData();

                faceData.setOrganizationId(organizationId);
                faceData.setFaceRepositoryId(faceRepositoryId);
                faceData.setFaceKey(pictureKey);
                faceData.setLastModifiedTime(new Date());
                faceData.setVector(faceVectorStr);
                faceData.setVectorHash(vectorHash);
                faceData.setFaceInfo(faceInfo);
                faceData.setGroups(convertGroupIdsToStr(groupIds));
                faceData.setIsPictureInSystem(isPictureInSystem ? (short) 1 : (short) 0);
                faceData.setFaceHeight(height);
                faceData.setFaceWidth(width);
                
                em.persist(faceData);
            } 
            else 
            {
                faceData = faceDataList.get(0);

                faceData.setLastModifiedTime(new Date());
                faceData.setVector(faceVectorStr);
                faceData.setVectorHash(vectorHash);
                faceData.setFaceInfo(faceInfo);
                faceData.setGroups(convertGroupIdsToStr(groupIds));
                faceData.setIsPictureInSystem(isPictureInSystem ? (short) 1 : (short) 0);
                
                em.merge(faceData);
            }

            em.getTransaction().commit();

            return faceData.getId();
        } catch (Exception e) {
            log.error(" addOrUpdateFaceToRepository() failed! e=" + e);
            throw e;
        }
    }

    private static String convertGroupIdsToStr(List<String> groupIds) {
        if (groupIds == null || groupIds.isEmpty()) {
            return "";
        }

        String str = "-";

        for (String groupId : groupIds) {
            str += groupId + "-";
        }

        return str;
    }
}
